function OpenModalShare(n){share=$(n.currentTarget).data("share"),$("#shareModal").find("a[data-share-url]").each(function(){shareURLSocial=$(this).attr("data-share-url"),$(this).attr("data-share-url",shareURLSocial.format(share))}),Shortener(share,function(n){$("#shareModal").find("input[data-share-url]").val(n),shareUrl=encodeURIComponent(n),$("#shareModal").foundation("open")})}function Shortener(n,t){$.ajax({async:!1,url:"http://inf.money/api/shorten",type:"POST",dataType:"JSON",data:{url:n,shortid:""},success:function(n){if(t)t(n.shortUrl);else return n.shortUrl},error:function(){if(t)t(n);else return n}})}function removeAcento(n){for(var r="√°√†√£√¢√§√©√®√™√´√≠√¨√Æ√Ø√≥√≤√µ√¥√∂√∫√π√ª√º√ß√Å√Ä√É√Ç√Ñ√â√à√ä√ã√ç√å√é√è√ì√í√ï√ñ√î√ö√ô√õ√ú√á",u="aaaaaeeeeiiiiooooouuuucAAAAAEEEEIIIIOOOOOUUUUC",i="",t=0;t<n.length;t++)i+=r.indexOf(n.charAt(t))!=-1?u.substr(r.search(n.substr(t,1)),1):n.substr(t,1);return i}function isLogged(){var n=!1;return $.ajax({type:"POST",url:"/portalapi/check-login",async:!1,contentType:"application/json; charset=utf-8",dataType:"json",success:function(t){n=t}}),n}function LoadDialogConfig(n,t){n!=="close"?$(t).foundation("open"):$(t).foundation("close")}function getCurrentHash(){var n=getCookie("IM.Hash");return n==undefined&&(n="no-cache"),n}function Deal(n,t){var r,i;t&&(r=ko.utils.arrayFirst(t,function(t){return n.cnpj===t.Value.cnpj})),i=this,i.lamina=r?r.Key:null,i.type=n.type,i.name=n.name,i.CNPJ=n.cnpj,i.fundid=n.AnbimaId,i.code=n.code,i.classifications={xpRisk:n.classifications.xpRisk,stars:n.classifications.morningStar},i.classifications.morningStar=function(n){for(var i="",t=0;t<n;t++)i+='<i class="fa fa-star" aria-hidden="true"><\/i>';return i},i.riskColor=function(n){switch(n){case 1:return"#36AFC5";case 2:return"#A5BB43";case 3:return"#FFC800";case 4:return"#ED822F";case 5:return"#E05037";default:return"white"}},i.investmentConditions={performanceRate:n.investmentConditions.performanceRate!=null?n.investmentConditions.performanceRate.toLocaleString("pt-BR"):"-",minimalInitialInvestment:n.investmentConditions.minimalInitialInvestment!=null?"R$ "+n.investmentConditions.minimalInitialInvestment.toLocaleString("pt-BR"):"-",administrationRate:n.investmentConditions.administrationRate!=null?n.investmentConditions.administrationRate.toFixed(2).toLocaleString("pt-BR").replace(".",",")+"%":"-",performanceRate:n.investmentConditions.performanceRate!=null?n.investmentConditions.performanceRate.toFixed(2).toLocaleString("pt-BR").replace(".",",")+"%":"-"},i.redemptionQuotation=n.redemptionQuotation,i.profitMonth=n.profitMonth!=null?n.profitMonth.toFixed(2).toLocaleString("pt-BR")+"%":"-",i.profitYear=n.profitYear!=null?n.profitYear.toFixed(2).toLocaleString("pt-BR")+"%":"-",i.profitTwelveMonth=n.profitTwelveMonth!=null?n.profitTwelveMonth.toFixed(2).toLocaleString("pt-BR")+"%":"-",i.properties={fundingBlocked:n.properties.fundingBlocked,fundingBlockJustification:n.properties.fundingBlockJustification},i.benchmark=n.benchmark!=null&&n.benchmark.name!=null?n.benchmark.name:"-",i.startDate=n.startDate,i.netEquity=n.netEquity!=null?parseFloat(n.netEquity).toLocaleString("pt-BR"):"-",i.averageNetEquity12m=n.averageNetEquity12m!=null?parseFloat(n.averageNetEquity12m).toLocaleString("pt-BR"):"-"}function FixedIncomeViewModel(){var n=this;n.filter=ko.observable({type:"0",minimum:100,risk:100,blockedInvestmentTime:100,classification:100,name:"",orderby:"xprisk",order:"asc"}),n.Deals=ko.observable([]),n.Specials=ko.observable([]),n.processData=function(t,i){n.Specials(i);var r=$.map(t,function(n){return new Deal(n,i)});n.Deals(r),n.Deals().length==1?(n.detailClick(n.Deals()[0],null),location.hash="#fund-opened",$(".fund__chart-bt").toggleClass("active")):($("._special_funds").show(),location.hash="");try{$("span[data-tooltip]").each(function(n,t){Foundation.reflow($(t))})}catch(u){}$("#"+$("#orderby").val()+"_sort").removeClass("fa-sort"),$("#"+$("#orderby").val()+"_sort").addClass("fa-sort-"+$("#order").val()),is_mobile()||$("#table-header").fixTo("#main",{useNativeSticky:!1})},n.investClick=$.proxy(function(n){modal.name(n.name),modal.minimum(n.minimum)},this),n.detailClick=function(n,t){t&&$(t.currentTarget).parent().toggleClass("active"),$("#detail"+n.CNPJ).is(":visible")?$("#detail"+n.CNPJ).slideUp():$("#detail"+n.CNPJ).slideDown("slow",function(){function u(){Highcharts.stockChart("chart"+n.CNPJ,{chart:{backgroundColor:"transparent",style:{fontFamily:"Open Sans",fontSize:"12",color:"#666"}},rangeSelector:{y:50,buttonTheme:{fill:"none",stroke:"none","stroke-width":0,width:80,style:{color:"#666"},states:{hover:{},select:{fill:"transparent",style:{fontWeight:"bold",color:"#1b987f"}}}},buttons:[{count:1,type:"month",text:"3M"},{count:6,type:"month",text:"6M"},{count:12,type:"month",text:"12M"},{count:24,type:"month",text:"24M"},{type:"all",text:"Desde In√≠cio"}],inputEnabled:!1,selected:3},title:{text:"Performance do fundo",style:{fontFamily:"Merriweather",fontSize:"15",color:"#333"}},scrollbar:{enabled:!1},navigator:{enabled:!1},credits:!1,legend:{enabled:1},series:i,tooltip:{split:!0,shared:!0,hideDelay:0,followPointer:!0,backgroundColor:"#fff",animation:!0,borderWidth:1,shadow:!1,headerFormat:"",pointFormat:'<span style="color:{series.color}">{series.name}<\/span>: {point.change}%<br/>',valueDecimals:2},plotOptions:{series:{compare:"percent"}},xAxis:[{gridLineWidth:0,startOnTick:!1,endOnTick:!1,crosshair:{label:{enabled:!0,backgroundColor:"#ffffff",borderColor:"#666",borderWidth:1,borderRadius:5,followPointer:!0,color:"#666",format:"{value:%b %d, %y}",style:{color:"#666"}},color:"#666"},dateTimeLabelFormats:{minute:"%b %d, %y<br/>%H:%M",hour:"%b %d, %y<br/>%H:%M",day:"%b %d, %y",week:"%b/%y",month:"%b/%y",year:"%Y"},labels:{align:"left",style:{color:"#666"}},tickWidth:0,minRange:12e5}],yAxis:[{offset:15,gridLineDashStyle:"LongDash",lineWidth:0,labels:{style:{color:"#666"},formatter:function(){return(this.value>0?"+":"")+this.value+"%"}}},]})}var i=[],r=0,t=[];t.push({id:n.fundid,name:n.name,color:"#1b987f"}),benchmarks[n.benchmark]&&t.push(benchmarks[n.benchmark]),$.each(t,function(n,f){$.getJSON($("#hdnWebApi").val()+"/xp-fundos/grafico/"+f.id+"?type=json",function(e){i[n]={name:f.name,data:e,color:f.color?f.color:"#ED822F"},r+=1,r===t.length&&u()})})})},n.counter=4,n.reloadData=function(i){if(n.counter!=0){n.counter--;return}if(!is_mobile()||i===!0){n.counter!=0||is_mobile()||i!==!0||(n.counter=4);try{$("span[data-tooltip]").each(function(n,t){$(t).foundation("destroy")})}catch(u){}$("#txtSearch").val()!=""?n.filter=ko.observable({type:"0",minimum:100,risk:100,blockedInvestmentTime:100,classification:100,name:$("#txtSearch").val(),orderby:$("#orderby").val(),order:$("#order").val()}):n.filter({type:$('input[name="filter_d"]:checked').val(),name:$("#txtSearch").val(),minimum:$("#minimumApplicationValue").val(),risk:$("#riskValue").val(),blockedInvestmentTime:$("#blockedInvestmentTimeValue").val(),classification:$("#classificationValue").val(),orderby:$("#orderby").val(),order:$("#order").val()});var r=$("#hdnWebApi").val()+"xp-fundos/json?"+$.param(n.filter());$.get(r,function(i){n.processData(i.investmentFunds,t)},"json"),i===!0&&$("#filter.reveal").css("display")!=undefined&&$("#filter.reveal").css("display")!=="none"&&$("#filter").foundation("close")}};var i=$("#serverFixedIncome"),r=i.data("fixedIncome"),u=$("#serverSpecialFunds"),t=u.data("funds");n.processData(r,t)}function getParameterByName(n){var t=RegExp("[?&]"+n+"=([^&]*)").exec(window.location.search);return t&&decodeURIComponent(t[1].replace(/\+/g," "))}function ModalViewModel(){var n=this;n.name=ko.observable(""),n.minimum=ko.observable("")}function DetailViewModel(){var n=this;n.name=ko.observable(""),n.minimum=ko.observable("")}function LoadSelectedFund(){var n=getParameterByName("fund"),t;n!=null&&($("._special_funds").hide(),t=$("#fund"+n+" td:eq(1)").html(),selectizeFund[0].selectize.setValue(t,!1))}function sortFunds(n){$("#riskValue").val()!=null&&$("#riskValue").val()!=""&&($("#orderby").val(n),$("#order").val()=="asc"?$("#order").val("desc"):$("#order").val("asc"),fixed.reloadData())}var fixto,social,CryptoJS,currencyOptions;(function(n){n.fn.popupWindow=function(t){return this.each(function(){n(this).click(function(){var u,i,r;return n.fn.popupWindow.defaultSettings={centerBrowser:0,centerScreen:0,height:500,left:0,location:0,menubar:0,resizable:0,scrollbars:0,status:0,width:500,windowName:null,windowURL:null,top:0,toolbar:0},settings=n.extend({},n.fn.popupWindow.defaultSettings,t||{}),u="height="+settings.height+",width="+settings.width+",toolbar="+settings.toolbar+",scrollbars="+settings.scrollbars+",status="+settings.status+",resizable="+settings.resizable+",location="+settings.location+",menuBar="+settings.menubar,settings.windowName=this.name||settings.windowName,settings.windowURL=this.href||settings.windowURL,settings.centerBrowser?(n.browser.msie?(i=window.screenTop-120+((document.documentElement.clientHeight+120)/2-settings.height/2),r=window.screenLeft+((document.body.offsetWidth+20)/2-settings.width/2)):(i=window.screenY+(window.outerHeight/2-settings.height/2),r=window.screenX+(window.outerWidth/2-settings.width/2)),window.open(settings.windowURL,settings.windowName,u+",left="+r+",top="+i).focus()):settings.centerScreen?(i=(screen.height-settings.height)/2,r=(screen.width-settings.width)/2,window.open(settings.windowURL,settings.windowName,u+",left="+r+",top="+i).focus()):window.open(settings.windowURL,settings.windowName,u+",left="+settings.left+",top="+settings.top).focus(),!1})})}})(jQuery),function(n){n.fn.popupWindowShortener=function(t){return this.each(function(){n(this).click(function(i){var r,u;i.preventDefault(),n.fn.popupWindowShortener.defaultSettings={centerBrowser:0,centerScreen:0,height:500,left:0,location:0,menubar:0,resizable:0,scrollbars:0,status:0,width:500,windowName:null,windowURL:null,top:0,toolbar:0},settings=n.extend({},n.fn.popupWindowShortener.defaultSettings,t||{});var f="height="+settings.height+",width="+settings.width+",toolbar="+settings.toolbar+",scrollbars="+settings.scrollbars+",status="+settings.status+",resizable="+settings.resizable+",location="+settings.location+",menuBar="+settings.menubar,e=this.href,o=this.name;return longUrl=n(this).data("share-url"),longUrl?Shortener(longUrl,function(n){settings.windowURL=e.format(n)}):settings.windowURL=this.href||settings.windowURL,settings.windowName="share",settings.centerBrowser?(n.browser.msie?(r=window.screenTop-120+((document.documentElement.clientHeight+120)/2-settings.height/2),u=window.screenLeft+((document.body.offsetWidth+20)/2-settings.width/2)):(r=window.screenY+(window.outerHeight/2-settings.height/2),u=window.screenX+(window.outerWidth/2-settings.width/2)),window.open(settings.windowURL,settings.windowName,f+",left="+u+",top="+r).focus()):settings.centerScreen?(r=(screen.height-settings.height)/2,u=(screen.width-settings.width)/2,window.open(settings.windowURL,settings.windowName,f+",left="+u+",top="+r).focus()):window.open(settings.windowURL,settings.windowName,f+",left="+settings.left+",top="+settings.top).focus(),!0})})}}(jQuery),window.whatInput=function(){"use strict";function k(){y(),e(event),f=!0,c=window.setTimeout(function(){f=!1},650)}function t(n){f||e(n)}function p(n){y(),e(n)}function y(){window.clearTimeout(c)}function e(t){var e=a(t),r=l[t.type];if("pointer"===r&&(r=nt(t)),i!==r){var o=tt(t),f=o.nodeName.toLowerCase(),s="input"===f?o.getAttribute("type"):null;!n.hasAttribute("data-whatinput-formtyping")&&i&&"keyboard"===r&&"tab"!==u[e]&&("textarea"===f||"select"===f||"input"===f&&it.indexOf(s)<0)||b.indexOf(e)>-1||v(r)}"keyboard"===r&&g(e)}function v(t){i=t,n.setAttribute("data-whatinput",i),-1===o.indexOf(i)&&o.push(i)}function a(n){return n.keyCode?n.keyCode:n.which}function tt(n){return n.target||n.srcElement}function nt(n){return"number"==typeof n.pointerType?rt[n.pointerType]:"pen"===n.pointerType?"touch":n.pointerType}function g(n){-1===r.indexOf(u[n])&&u[n]&&r.push(u[n])}function d(n){var i=a(n),t=r.indexOf(u[i]);-1!==t&&r.splice(t,1)}function h(){n=document.body,window.PointerEvent?(n.addEventListener("pointerdown",t),n.addEventListener("pointermove",t)):window.MSPointerEvent?(n.addEventListener("MSPointerDown",t),n.addEventListener("MSPointerMove",t)):(n.addEventListener("mousedown",t),n.addEventListener("mousemove",t),"ontouchstart"in window&&n.addEventListener("touchstart",k)),n.addEventListener(w,t),n.addEventListener("keydown",p),n.addEventListener("keyup",p),document.addEventListener("keyup",d)}function s(){return w="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll"}var n,r=[],f=!1,i=null,it=["button","checkbox","file","image","radio","reset","submit"],w=s(),b=[16,17,18,91,93],l={keydown:"keyboard",keyup:"keyboard",mousedown:"mouse",mousemove:"mouse",MSPointerDown:"pointer",MSPointerMove:"pointer",pointerdown:"pointer",pointermove:"pointer",touchstart:"touch"};l[s()]="mouse";var c,o=[],u={9:"tab",13:"enter",16:"shift",27:"esc",32:"space",37:"left",38:"up",39:"right",40:"down"},rt={2:"touch",3:"touch",4:"mouse"};return"addEventListener"in window&&Array.prototype.indexOf&&(document.body?h():document.addEventListener("DOMContentLoaded",h)),{ask:function(){return i},keys:function(){return r},types:function(){return o},set:v}}(),function(n,t,i,r){var u=n(t);n.fn.lazyload=function(f){function s(){var t=0;o.each(function(){var i=n(this);if((!e.skip_invisible||i.is(":visible"))&&!n.abovethetop(this,e)&&!n.leftofbegin(this,e))if(n.belowthefold(this,e)||n.rightoffold(this,e)){if(++t>e.failure_limit)return!1}else i.trigger("appear"),t=0})}var o=this,h,e={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:t,data_attribute:"original",skip_invisible:!0,appear:null,load:null,error:null,complete:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};return f&&(r!==f.failurelimit&&(f.failure_limit=f.failurelimit,delete f.failurelimit),r!==f.effectspeed&&(f.effect_speed=f.effectspeed,delete f.effectspeed),n.extend(e,f)),h=e.container===r||e.container===t?u:n(e.container),0===e.event.indexOf("scroll")&&h.bind(e.event,function(){return s()}),this.each(function(){var i=this,t=n(i);i.loaded=!1,(t.attr("src")===r||t.attr("src")===!1)&&t.attr("src",e.placeholder);t.one("appear",function(){if(!this.loaded){if(e.appear){var r=o.length;e.appear.call(i,r,e)}n("<img />").bind("load",function(){var n=t.data(e.data_attribute),r;t.hide(),t.is("img")?t.attr("src",n):t.css("background-image","url('"+n+"')"),t[e.effect](e.effect_speed),i.loaded=!0,o=o.not(i),e.load&&(r=o.length,e.load.call(i,r,e)),e.complete&&o.length===0&&e.complete.call()}).bind("error",function(){o=o.not(i);var n=o.length;e.complete&&n===0&&e.complete.call(),e.error&&e.error.call(i,n,e)}).attr("src",t.data(e.data_attribute))}});0!==e.event.indexOf("scroll")&&t.bind(e.event,function(){i.loaded||t.trigger("appear")})}),u.bind("resize",function(){s()}),/iphone|ipod|ipad.*os 5/gi.test(navigator.appVersion)&&u.bind("pageshow",function(t){t.originalEvent&&t.originalEvent.persisted&&o.each(function(){n(this).trigger("appear")})}),n(i).ready(function(){s()}),this},n.belowthefold=function(i,f){var e;return e=f.container===r||f.container===t?(t.innerHeight?t.innerHeight:u.height())+u.scrollTop():n(f.container).offset().top+n(f.container).height(),e<=n(i).offset().top-f.threshold},n.rightoffold=function(i,f){var e;return e=f.container===r||f.container===t?u.width()+u.scrollLeft():n(f.container).offset().left+n(f.container).width(),e<=n(i).offset().left-f.threshold},n.abovethetop=function(i,f){var e;return e=f.container===r||f.container===t?u.scrollTop():n(f.container).offset().top,e>=n(i).offset().top+f.threshold+n(i).height()},n.leftofbegin=function(i,f){var e;return e=f.container===r||f.container===t?u.scrollLeft():n(f.container).offset().left,e>=n(i).offset().left+f.threshold+n(i).width()},n.inviewport=function(t,i){return!n.rightoffold(t,i)&&!n.leftofbegin(t,i)&&!n.belowthefold(t,i)&&!n.abovethetop(t,i)},n.extend(n.expr[":"],{"below-the-fold":function(t){return n.belowthefold(t,{threshold:0})},"above-the-top":function(t){return!n.belowthefold(t,{threshold:0})},"right-of-screen":function(t){return n.rightoffold(t,{threshold:0})},"left-of-screen":function(t){return!n.rightoffold(t,{threshold:0})},"in-viewport":function(t){return n.inviewport(t,{threshold:0})},"above-the-fold":function(t){return!n.belowthefold(t,{threshold:0})},"right-of-fold":function(t){return n.rightoffold(t,{threshold:0})},"left-of-fold":function(t){return!n.rightoffold(t,{threshold:0})}})}(jQuery,window,document);
/*! selectize.js - v0.12.4 | https://github.com/selectize/selectize.js | Apache License (v2) */
!function(n,t){"function"==typeof define&&define.amd?define("sifter",t):"object"==typeof exports?module.exports=t():n.Sifter=t()}(this,function(){var n=function(n,t){this.items=n,this.settings=t||{diacritics:!0}};n.prototype.tokenize=function(n){if(n=o(String(n||"").toLowerCase()),!n||!n.length)return[];for(var r,u,h=[],f=n.split(/ +/),i=0,e=f.length;i<e;i++){if(r=s(f[i]),this.settings.diacritics)for(u in t)t.hasOwnProperty(u)&&(r=r.replace(new RegExp(u,"g"),t[u]));h.push({string:f[i],regex:new RegExp(r,"i")})}return h},n.prototype.iterator=function(n,t){var r;r=i(n)?Array.prototype.forEach||function(n){for(var t=0,i=this.length;t<i;t++)n(this[t],t,this)}:function(n){for(var t in this)this.hasOwnProperty(t)&&n(this[t],t,this)},r.apply(n,[t])},n.prototype.getScoreFunction=function(n,t){var h,f,u,i,o,s,e;return h=this,n=h.prepareSearch(n,t),u=n.tokens,f=n.options.fields,i=u.length,o=n.options.nesting,s=function(n,t){var i,r;return n?(n=String(n||""),r=n.search(t.regex),r===-1?0:(i=t.string.length/n.length,0===r&&(i+=.5),i)):0},e=function(){var n=f.length;return n?1===n?function(n,t){return s(r(t,f[0],o),n)}:function(t,i){for(var u=0,e=0;u<n;u++)e+=s(r(i,f[u],o),t);return e/n}:function(){return 0}}(),i?1===i?function(n){return e(u[0],n)}:"and"===n.options.conjunction?function(n){for(var t,r=0,f=0;r<i;r++){if(t=e(u[r],n),t<=0)return 0;f+=t}return f/i}:function(n){for(var t=0,r=0;t<i;t++)r+=e(u[t],n);return r/i}:function(){return 0}},n.prototype.getSortFunction=function(n,t){var i,e,l,a,f,h,y,c,o,v,s;if(l=this,n=l.prepareSearch(n,t),s=!n.query&&t.sort_empty||t.sort,o=function(n,i){return"$score"===n?i.score:r(l.items[i.id],n,t.nesting)},f=[],s)for(i=0,e=s.length;i<e;i++)(n.query||"$score"!==s[i].field)&&f.push(s[i]);if(n.query){for(v=!0,i=0,e=f.length;i<e;i++)if("$score"===f[i].field){v=!1;break}v&&f.unshift({field:"$score",direction:"desc"})}else for(i=0,e=f.length;i<e;i++)if("$score"===f[i].field){f.splice(i,1);break}for(c=[],i=0,e=f.length;i<e;i++)c.push("desc"===f[i].direction?-1:1);return h=f.length,h?1===h?(a=f[0].field,y=c[0],function(n,t){return y*u(o(a,n),o(a,t))}):function(n,t){for(var e,r,i=0;i<h;i++)if(r=f[i].field,e=c[i]*u(o(r,n),o(r,t)))return e;return 0}:null},n.prototype.prepareSearch=function(n,t){if("object"==typeof n)return n;t=e({},t);var r=t.fields,u=t.sort,f=t.sort_empty;return r&&!i(r)&&(t.fields=[r]),u&&!i(u)&&(t.sort=[u]),f&&!i(f)&&(t.sort_empty=[f]),{options:t,query:String(n||"").toLowerCase(),tokens:this.tokenize(n),total:0,items:[]}},n.prototype.search=function(n,t){var u,i,f,e,r=this;return i=this.prepareSearch(n,t),t=i.options,n=i.query,e=t.score||r.getScoreFunction(i),n.length?r.iterator(r.items,function(n,r){u=e(n),(t.filter===!1||u>0)&&i.items.push({score:u,id:r})}):r.iterator(r.items,function(n,t){i.items.push({score:1,id:t})}),f=r.getSortFunction(i,t),f&&i.items.sort(f),i.total=i.items.length,"number"==typeof t.limit&&(i.items=i.items.slice(0,t.limit)),i};var u=function(n,t){return"number"==typeof n&&"number"==typeof t?n>t?1:n<t?-1:0:(n=f(String(n||"")),t=f(String(t||"")),n>t?1:t>n?-1:0)},e=function(n){for(var r,u,i=1,f=arguments.length;i<f;i++)if(u=arguments[i])for(r in u)u.hasOwnProperty(r)&&(n[r]=u[r]);return n},r=function(n,t,i){if(n&&t){if(!i)return n[t];for(var r=t.split(".");r.length&&(n=n[r.shift()]););return n}},o=function(n){return(n+"").replace(/^\s+|\s+$|/g,"")},s=function(n){return(n+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},i=Array.isArray||"undefined"!=typeof $&&$.isArray||function(n){return"[object Array]"===Object.prototype.toString.call(n)},t={a:"[a·∏Ä·∏ÅƒÇƒÉ√Ç√¢«ç«é»∫‚±•»¶»ß·∫†·∫°√Ñ√§√Ä√†√Å√°ƒÄƒÅ√É√£√Ö√•ƒÖƒÑ√ÉƒÖƒÑ]",b:"[b‚ê¢Œ≤ŒíB‡∏øêåÅ·õí]",c:"[cƒÜƒáƒàƒâƒåƒçƒäƒãCÃÑcÃÑ√á√ß·∏à·∏â»ª»º∆á∆à…ï·¥ÑÔº£ÔΩÉ]",d:"[dƒéƒè·∏ä·∏ã·∏ê·∏ë·∏å·∏ç·∏í·∏ì·∏é·∏èƒêƒëDÃ¶dÃ¶∆â…ñ∆ä…ó∆ã∆å·µ≠·∂Å·∂ë»°·¥ÖÔº§ÔΩÑ√∞]",e:"[e√â√©√à√®√ä√™·∏ò·∏ôƒöƒõƒîƒï·∫º·∫Ω·∏ö·∏õ·∫∫·∫ªƒñƒó√ã√´ƒíƒì»®»©ƒòƒô·∂í…Ü…á»Ñ»Ö·∫æ·∫ø·ªÄ·ªÅ·ªÑ·ªÖ·ªÇ·ªÉ·∏ú·∏ù·∏ñ·∏ó·∏î·∏ï»Ü»á·∫∏·∫π·ªÜ·ªá‚±∏·¥áÔº•ÔΩÖ…ò«ù∆è∆êŒµ]",f:"[f∆ë∆í·∏û·∏ü]",g:"[g…¢‚Ç≤«§«•ƒúƒùƒûƒüƒ¢ƒ£∆ì…†ƒ†ƒ°]",h:"[hƒ§ƒ•ƒ¶ƒß·∏®·∏©·∫ñ·∫ñ·∏§·∏•·∏¢·∏£…¶ ∞«∂∆ï]",i:"[i√ç√≠√å√¨ƒ¨ƒ≠√é√Æ«è«ê√è√Ø·∏Æ·∏Øƒ®ƒ©ƒÆƒØƒ™ƒ´·ªà·ªâ»à»â»ä»ã·ªä·ªã·∏¨·∏≠∆ó…®…®ÃÜ·µª·∂ñƒ∞iIƒ±…™Ôº©ÔΩâ]",j:"[j»∑ƒ¥ƒµ…à…â ù…ü ≤]",k:"[k∆ò∆ôÍùÄÍùÅ·∏∞·∏±«®«©·∏≤·∏≥·∏¥·∏µŒ∫œ∞‚Ç≠]",l:"[l≈Å≈ÇƒΩƒæƒªƒºƒπƒ∫·∏∂·∏∑·∏∏·∏π·∏º·∏Ω·∏∫·∏ªƒø≈Ä»Ω∆ö‚±†‚±°‚±¢…´…¨·∂Ö…≠»¥ üÔº¨ÔΩå]",n:"[n≈É≈Ñ«∏«π≈á≈à√ë√±·πÑ·πÖ≈Ö≈Ü·πÜ·πá·πä·πã·πà·πâNÃànÃà∆ù…≤»†∆û·µ∞·∂á…≥»µ…¥ÔºÆÔΩé≈ä≈ã]",o:"[o√ò√∏√ñ√∂√ì√≥√í√≤√î√¥«ë«í≈ê≈ë≈é≈è»Æ»Ø·ªå·ªç∆ü…µ∆†∆°·ªé·ªè≈å≈ç√ï√µ«™«´»å»ç’ï÷Ö]",p:"[p·πî·πï·πñ·πó‚±£·µΩ∆§∆•·µ±]",q:"[qÍùñÍùó †…ä…ãÍùòÍùôqÃÉ]",r:"[r≈î≈ï…å…ç≈ò≈ô≈ñ≈ó·πò·πô»ê»ë»í»ì·πö·πõ‚±§…Ω]",s:"[s≈ö≈õ·π†·π°·π¢·π£Íû®Íû©≈ú≈ù≈†≈°≈û≈ü»ò»ôSÃàsÃà]",t:"[t≈§≈•·π™·π´≈¢≈£·π¨·π≠∆Æ à»ö»õ·π∞·π±·πÆ·πØ∆¨∆≠]",u:"[u≈¨≈≠…Ñ â·ª§·ª•√ú√º√ö√∫√ô√π√õ√ª«ì«î≈∞≈±≈¨≈≠∆Ø∆∞·ª¶·ªß≈™≈´≈®≈©≈≤≈≥»î»ï‚à™]",v:"[v·πº·πΩ·πæ·πø∆≤ ãÍùûÍùü‚±± ã]",w:"[w·∫Ç·∫É·∫Ä·∫Å≈¥≈µ·∫Ñ·∫Ö·∫Ü·∫á·∫à·∫â]",x:"[x·∫å·∫ç·∫ä·∫ãœá]",y:"[y√ù√Ω·ª≤·ª≥≈∂≈∑≈∏√ø·ª∏·ªπ·∫é·∫è·ª¥·ªµ…é…è∆≥∆¥]",z:"[z≈π≈∫·∫ê·∫ë≈Ω≈æ≈ª≈º·∫í·∫ì·∫î·∫ï∆µ∆∂]"},f=function(){var i,u,n,r,f="",e={},o;for(n in t)if(t.hasOwnProperty(n))for(r=t[n].substring(2,t[n].length-1),f+=r,i=0,u=r.length;i<u;i++)e[r.charAt(i)]=n;return o=new RegExp("["+f+"]","g"),function(n){return n.replace(o,function(n){return e[n]}).toLowerCase()}}();return n}),function(n,t){"function"==typeof define&&define.amd?define("microplugin",t):"object"==typeof exports?module.exports=t():n.MicroPlugin=t()}(this,function(){var n={},t;return n.mixin=function(n){n.plugins={},n.prototype.initializePlugins=function(n){var i,e,r,f=this,u=[];if(f.plugins={names:[],settings:{},requested:{},loaded:{}},t.isArray(n))for(i=0,e=n.length;i<e;i++)"string"==typeof n[i]?u.push(n[i]):(f.plugins.settings[n[i].name]=n[i].options,u.push(n[i].name));else if(n)for(r in n)n.hasOwnProperty(r)&&(f.plugins.settings[r]=n[r],u.push(r));for(;u.length;)f.require(u.shift())},n.prototype.loadPlugin=function(t){var i=this,r=i.plugins,u=n.plugins[t];if(!n.plugins.hasOwnProperty(t))throw new Error('Unable to find "'+t+'" plugin');r.requested[t]=!0,r.loaded[t]=u.fn.apply(i,[i.plugins.settings[t]||{}]),r.names.push(t)},n.prototype.require=function(n){var t=this,i=t.plugins;if(!t.plugins.loaded.hasOwnProperty(n)){if(i.requested[n])throw new Error('Plugin has circular dependency ("'+n+'")');t.loadPlugin(n)}return i.loaded[n]},n.define=function(t,i){n.plugins[t]={name:t,fn:i}}},t={isArray:Array.isArray||function(n){return"[object Array]"===Object.prototype.toString.call(n)}},n}),function(n,t){"function"==typeof define&&define.amd?define("selectize",["jquery","sifter","microplugin"],t):"object"==typeof exports?module.exports=t(require("jquery"),require("sifter"),require("microplugin")):n.Selectize=t(n.jQuery,n.Sifter,n.MicroPlugin)}(this,function(n,t,i){"use strict";var ct=function(n,t){if("string"!=typeof t||t.length){var i="string"==typeof t?new RegExp(t,"i"):t,r=function(n){var o=0,e,s,f,t,h,u;if(3===n.nodeType)e=n.data.search(i),e>=0&&n.data.length>0&&(s=n.data.match(i),f=document.createElement("span"),f.className="highlight",t=n.splitText(e),h=(t.splitText(s[0].length),t.cloneNode(!0)),f.appendChild(h),t.parentNode.replaceChild(f,t),o=1);else if(1===n.nodeType&&n.childNodes&&!/(script|style)/i.test(n.tagName))for(u=0;u<n.childNodes.length;++u)u+=r(n.childNodes[u]);return o};return n.each(function(){r(this)})}},f;n.fn.removeHighlight=function(){return this.find("span.highlight").each(function(){this.parentNode.firstChild.nodeName;var n=this.parentNode;n.replaceChild(this.firstChild,this),n.normalize()}).end()},f=function(){},f.prototype={on:function(n,t){this._events=this._events||{},this._events[n]=this._events[n]||[],this._events[n].push(t)},off:function(n,t){var i=arguments.length;return 0===i?delete this._events:1===i?delete this._events[n]:(this._events=this._events||{},void(n in this._events!=!1&&this._events[n].splice(this._events[n].indexOf(t),1)))},trigger:function(n){if(this._events=this._events||{},n in this._events!=!1)for(var t=0;t<this._events[n].length;t++)this._events[n][t].apply(this,Array.prototype.slice.call(arguments,1))}},f.mixin=function(n){for(var i=["on","off","trigger"],t=0;t<i.length;t++)n.prototype[i[t]]=f.prototype[i[t]]};var e=/Mac/.test(navigator.userAgent),ft=65,wt=13,ot=27,l=37,st=38,et=80,p=39,pt=40,yt=78,s=8,a=46,vt=16,at=e?91:17,bt=e?18:17,w=9,c=1,ht=2,k=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("input").validity,y=function(n){return"undefined"!=typeof n},u=function(n){return"undefined"==typeof n||null===n?null:"boolean"==typeof n?n?"1":"0":n+""},o=function(n){return(n+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},h={};h.before=function(n,t,i){var r=n[t];n[t]=function(){return i.apply(n,arguments),r.apply(n,arguments)}},h.after=function(n,t,i){var r=n[t];n[t]=function(){var t=r.apply(n,arguments);return i.apply(n,arguments),t}};var ut=function(n){var t=!1;return function(){t||(t=!0,n.apply(this,arguments))}},rt=function(n,t){var i;return function(){var r=this,u=arguments;window.clearTimeout(i),i=window.setTimeout(function(){n.apply(r,u)},t)}},b=function(n,t,i){var u,f=n.trigger,r={};n.trigger=function(){var i=arguments[0];return t.indexOf(i)===-1?f.apply(n,arguments):void(r[i]=arguments)},i.apply(n,[]),n.trigger=f;for(u in r)r.hasOwnProperty(u)&&f.apply(n,r[u])},it=function(n,t,i,r){n.on(t,i,function(t){for(var i=t.target;i&&i.parentNode!==n[0];)i=i.parentNode;return t.currentTarget=i,r.apply(this,[t])})},v=function(n){var t={},i,r;return"selectionStart"in n?(t.start=n.selectionStart,t.length=n.selectionEnd-t.start):document.selection&&(n.focus(),i=document.selection.createRange(),r=document.selection.createRange().text.length,i.moveStart("character",-n.value.length),t.start=i.text.length-r,t.length=r),t},tt=function(n,t,i){var r,f,u={};if(i)for(r=0,f=i.length;r<f;r++)u[i[r]]=n.css(i[r]);else u=n.css();t.css(u)},nt=function(t,i){var r,u;return t?(r=n("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(t).appendTo("body"),tt(i,r,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]),u=r.width(),r.remove(),u):0},g=function(n){var t=null,i=function(i,r){var u,f,l,c,h,y,o,e;i=i||window.event||{},r=r||{},i.metaKey||i.altKey||(r.force||n.data("grow")!==!1)&&(u=n.val(),i.type&&"keydown"===i.type.toLowerCase()&&(f=i.keyCode,l=f>=97&&f<=122||f>=65&&f<=90||f>=48&&f<=57||32===f,f===a||f===s?(e=v(n[0]),e.length?u=u.substring(0,e.start)+u.substring(e.start+e.length):f===s&&e.start?u=u.substring(0,e.start-1)+u.substring(e.start+1):f===a&&"undefined"!=typeof e.start&&(u=u.substring(0,e.start)+u.substring(e.start+1))):l&&(y=i.shiftKey,o=String.fromCharCode(i.keyCode),o=y?o.toUpperCase():o.toLowerCase(),u+=o)),c=n.attr("placeholder"),!u&&c&&(u=c),h=nt(u,n)+4,h!==t&&(t=h,n.width(h),n.triggerHandler("resize")))};n.on("keydown keyup update blur",i),i()},d=function(n){var t=document.createElement("div");return t.appendChild(n.cloneNode(!0)),t.innerHTML},lt=function(n,t){t||(t={});var i="Selectize";console.error(i+": "+n),t.explanation&&(console.group&&console.group(),console.error(t.explanation),console.group&&console.groupEnd())},r=function(i,u){var e,s,h,o,f=this,l;if(o=i[0],o.selectize=f,l=window.getComputedStyle&&window.getComputedStyle(o,null),h=l?l.getPropertyValue("direction"):o.currentStyle&&o.currentStyle.direction,h=h||i.parents("[dir]:first").attr("dir")||"",n.extend(f,{order:0,settings:u,$input:i,tabIndex:i.attr("tabindex")||"",tagType:"select"===o.tagName.toLowerCase()?c:ht,rtl:/rtl/i.test(h),eventNS:".selectize"+ ++r.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:i.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===u.loadThrottle?f.onSearchChange:rt(f.onSearchChange,u.loadThrottle)}),f.sifter=new t(this.options,{diacritics:u.diacritics}),f.settings.options){for(e=0,s=f.settings.options.length;e<s;e++)f.registerOption(f.settings.options[e]);delete f.settings.options}if(f.settings.optgroups){for(e=0,s=f.settings.optgroups.length;e<s;e++)f.registerOptionGroup(f.settings.optgroups[e]);delete f.settings.optgroups}f.settings.mode=f.settings.mode||(1===f.settings.maxItems?"single":"multi"),"boolean"!=typeof f.settings.hideSelected&&(f.settings.hideSelected="multi"===f.settings.mode),f.initializePlugins(f.settings.plugins),f.setupCallbacks(),f.setupTemplates(),f.setup()};return f.mixin(r),"undefined"!=typeof i?i.mixin(r):lt("Dependency MicroPlugin is missing",{explanation:'Make sure you either: (1) are using the "standalone" version of Selectize, or (2) require MicroPlugin before you load Selectize.'}),n.extend(r.prototype,{setup:function(){var s,h,u,f,d,w,y,p,v,l,t=this,r=t.settings,o=t.eventNS,b=n(window),a=n(document),i=t.$input,nt;(y=t.settings.mode,p=i.attr("class")||"",s=n("<div>").addClass(r.wrapperClass).addClass(p).addClass(y),h=n("<div>").addClass(r.inputClass).addClass("items").appendTo(s),u=n('<input type="text" autocomplete="off" />').appendTo(h).attr("tabindex",i.is(":disabled")?"-1":t.tabIndex),w=n(r.dropdownParent||s),f=n("<div>").addClass(r.dropdownClass).addClass(y).hide().appendTo(w),d=n("<div>").addClass(r.dropdownContentClass).appendTo(f),(l=i.attr("id"))&&(u.attr("id",l+"-selectized"),n("label[for='"+l+"']").attr("for",l+"-selectized")),t.settings.copyClassesToDropdown&&f.addClass(p),s.css({width:i[0].style.width}),t.plugins.names.length&&(v="plugin-"+t.plugins.names.join(" plugin-"),s.addClass(v),f.addClass(v)),(null===r.maxItems||r.maxItems>1)&&t.tagType===c&&i.attr("multiple","multiple"),t.settings.placeholder&&u.attr("placeholder",r.placeholder),!t.settings.splitOn&&t.settings.delimiter)&&(nt=t.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),t.settings.splitOn=new RegExp("\\s*"+nt+"+\\s*")),i.attr("autocorrect")&&u.attr("autocorrect",i.attr("autocorrect")),i.attr("autocapitalize")&&u.attr("autocapitalize",i.attr("autocapitalize")),t.$wrapper=s,t.$control=h,t.$control_input=u,t.$dropdown=f,t.$dropdown_content=d,f.on("mouseenter","[data-selectable]",function(){return t.onOptionHover.apply(t,arguments)}),f.on("mousedown click","[data-selectable]",function(){return t.onOptionSelect.apply(t,arguments)}),it(h,"mousedown","*:not(input)",function(){return t.onItemSelect.apply(t,arguments)}),g(u),h.on({mousedown:function(){return t.onMouseDown.apply(t,arguments)},click:function(){return t.onClick.apply(t,arguments)}}),u.on({mousedown:function(n){n.stopPropagation()},keydown:function(){return t.onKeyDown.apply(t,arguments)},keyup:function(){return t.onKeyUp.apply(t,arguments)},keypress:function(){return t.onKeyPress.apply(t,arguments)},resize:function(){t.positionDropdown.apply(t,[])},blur:function(){return t.onBlur.apply(t,arguments)},focus:function(){return t.ignoreBlur=!1,t.onFocus.apply(t,arguments)},paste:function(){return t.onPaste.apply(t,arguments)}}),a.on("keydown"+o,function(n){t.isCmdDown=n[e?"metaKey":"ctrlKey"],t.isCtrlDown=n[e?"altKey":"ctrlKey"],t.isShiftDown=n.shiftKey}),a.on("keyup"+o,function(n){n.keyCode===bt&&(t.isCtrlDown=!1),n.keyCode===vt&&(t.isShiftDown=!1),n.keyCode===at&&(t.isCmdDown=!1)}),a.on("mousedown"+o,function(n){if(t.isFocused){if(n.target===t.$dropdown[0]||n.target.parentNode===t.$dropdown[0])return!1;t.$control.has(n.target).length||n.target===t.$control[0]||t.blur(n.target)}}),b.on(["scroll"+o,"resize"+o].join(" "),function(){t.isOpen&&t.positionDropdown.apply(t,arguments)}),b.on("mousemove"+o,function(){t.ignoreHover=!1}),this.revertSettings={$children:i.children().detach(),tabindex:i.attr("tabindex")},i.attr("tabindex",-1).hide().after(t.$wrapper),n.isArray(r.items)&&(t.setValue(r.items),delete r.items),k&&i.on("invalid"+o,function(n){n.preventDefault(),t.isInvalid=!0,t.refreshState()}),t.updateOriginalInput(),t.refreshItems(),t.refreshState(),t.updatePlaceholder(),t.isSetup=!0,i.is(":disabled")&&t.disable(),t.on("change",this.onChange),i.data("selectize",t),i.addClass("selectized"),t.trigger("initialize"),r.preload===!0&&t.onSearchChange("")},setupTemplates:function(){var t=this,i=t.settings.labelField,r=t.settings.optgroupLabelField,u={optgroup:function(n){return'<div class="optgroup">'+n.html+"<\/div>"},optgroup_header:function(n,t){return'<div class="optgroup-header">'+t(n[r])+"<\/div>"},option:function(n,t){return'<div class="option">'+t(n[i])+"<\/div>"},item:function(n,t){return'<div class="item">'+t(n[i])+"<\/div>"},option_create:function(n,t){return'<div class="create">Add <strong>'+t(n.input)+"<\/strong>&hellip;<\/div>"}};t.settings.render=n.extend({},u,t.settings.render)},setupCallbacks:function(){var n,t,i={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(n in i)i.hasOwnProperty(n)&&(t=this.settings[i[n]],t&&this.on(n,t))},onClick:function(n){var t=this;t.isFocused||(t.focus(),n.preventDefault())},onMouseDown:function(t){var i=this,r=t.isDefaultPrevented();if(n(t.target),i.isFocused){if(t.target!==i.$control_input[0])return"single"===i.settings.mode?i.isOpen?i.close():i.open():r||i.setActiveItem(null),!1}else r||window.setTimeout(function(){i.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(t){var i=this;return i.isFull()||i.isInputHidden||i.isLocked?void t.preventDefault():void(i.settings.splitOn&&setTimeout(function(){var r=i.$control_input.val();if(r.match(i.settings.splitOn))for(var u=n.trim(r).split(i.settings.splitOn),t=0,f=u.length;t<f;t++)i.createItem(u[t])},0))},onKeyPress:function(n){if(this.isLocked)return n&&n.preventDefault();var t=String.fromCharCode(n.keyCode||n.which);if(this.settings.create&&"multi"===this.settings.mode&&t===this.settings.delimiter)return this.createItem(),n.preventDefault(),!1},onKeyDown:function(n){var t=(n.target===this.$control_input[0],this),i,r;if(t.isLocked)return void(n.keyCode!==w&&n.preventDefault());switch(n.keyCode){case ft:if(t.isCmdDown)return void t.selectAll();break;case ot:return void(t.isOpen&&(n.preventDefault(),n.stopPropagation(),t.close()));case yt:if(!n.ctrlKey||n.altKey)break;case pt:return!t.isOpen&&t.hasOptions?t.open():t.$activeOption&&(t.ignoreHover=!0,i=t.getAdjacentOption(t.$activeOption,1),i.length&&t.setActiveOption(i,!0,!0)),void n.preventDefault();case et:if(!n.ctrlKey||n.altKey)break;case st:return t.$activeOption&&(t.ignoreHover=!0,r=t.getAdjacentOption(t.$activeOption,-1),r.length&&t.setActiveOption(r,!0,!0)),void n.preventDefault();case wt:return void(t.isOpen&&t.$activeOption&&(t.onOptionSelect({currentTarget:t.$activeOption}),n.preventDefault()));case l:return void t.advanceSelection(-1,n);case p:return void t.advanceSelection(1,n);case w:return t.settings.selectOnTab&&t.isOpen&&t.$activeOption&&(t.onOptionSelect({currentTarget:t.$activeOption}),t.isFull()||n.preventDefault()),void(t.settings.create&&t.createItem()&&n.preventDefault());case s:case a:return void t.deleteSelection(n)}if((t.isFull()||t.isInputHidden)&&(e?!n.metaKey:!n.ctrlKey))return void n.preventDefault()},onKeyUp:function(n){var t=this,i;if(t.isLocked)return n&&n.preventDefault();i=t.$control_input.val()||"",t.lastValue!==i&&(t.lastValue=i,t.onSearchChange(i),t.refreshOptions(),t.trigger("type",i))},onSearchChange:function(n){var t=this,i=t.settings.load;i&&(t.loadedSearches.hasOwnProperty(n)||(t.loadedSearches[n]=!0,t.load(function(r){i.apply(t,[n,r])})))},onFocus:function(n){var t=this,i=t.isFocused;return t.isDisabled?(t.blur(),n&&n.preventDefault(),!1):void(t.ignoreFocus||(t.isFocused=!0,"focus"===t.settings.preload&&t.onSearchChange(""),i||t.trigger("focus"),t.$activeItems.length||(t.showInput(),t.setActiveItem(null),t.refreshOptions(!!t.settings.openOnFocus)),t.refreshState()))},onBlur:function(n,t){var i=this,r;if(i.isFocused&&(i.isFocused=!1,!i.ignoreFocus)){if(!i.ignoreBlur&&document.activeElement===i.$dropdown_content[0])return i.ignoreBlur=!0,void i.onFocus(n);r=function(){i.close(),i.setTextboxValue(""),i.setActiveItem(null),i.setActiveOption(null),i.setCaret(i.items.length),i.refreshState(),t&&t.focus&&t.focus(),i.ignoreFocus=!1,i.trigger("blur")},i.ignoreFocus=!0,i.settings.create&&i.settings.createOnBlur?i.createItem(null,!1,r):r()}},onOptionHover:function(n){this.ignoreHover||this.setActiveOption(n.currentTarget,!1)},onOptionSelect:function(t){var r,u,i=this;t.preventDefault&&(t.preventDefault(),t.stopPropagation()),u=n(t.currentTarget),u.hasClass("create")?i.createItem(null,function(){i.settings.closeAfterSelect&&i.close()}):(r=u.attr("data-value"),"undefined"!=typeof r&&(i.lastQuery=null,i.setTextboxValue(""),i.addItem(r),i.settings.closeAfterSelect?i.close():!i.settings.hideSelected&&t.type&&/mouse/.test(t.type)&&i.setActiveOption(i.getOption(r))))},onItemSelect:function(n){var t=this;t.isLocked||"multi"===t.settings.mode&&(n.preventDefault(),t.setActiveItem(n.currentTarget,n))},load:function(n){var t=this,i=t.$wrapper.addClass(t.settings.loadingClass);t.loading++,n.apply(t,[function(n){t.loading=Math.max(t.loading-1,0),n&&n.length&&(t.addOption(n),t.refreshOptions(t.isFocused&&!t.isInputHidden)),t.loading||i.removeClass(t.settings.loadingClass),t.trigger("load",n)}])},setTextboxValue:function(n){var t=this.$control_input,i=t.val()!==n;i&&(t.val(n).triggerHandler("update"),this.lastValue=n)},getValue:function(){return this.tagType===c&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(n,t){var i=t?[]:["change"];b(this,i,function(){this.clear(t),this.addItems(n,t)})},setActiveItem:function(t,i){var e,o,h,u,f,s,c,l,r=this;if("single"!==r.settings.mode){if(t=n(t),!t.length)return n(r.$activeItems).removeClass("active"),r.$activeItems=[],void(r.isFocused&&r.showInput());if(e=i&&i.type.toLowerCase(),"mousedown"===e&&r.isShiftDown&&r.$activeItems.length){for(l=r.$control.children(".active:last"),u=Array.prototype.indexOf.apply(r.$control[0].childNodes,[l[0]]),f=Array.prototype.indexOf.apply(r.$control[0].childNodes,[t[0]]),u>f&&(c=u,u=f,f=c),o=u;o<=f;o++)s=r.$control[0].childNodes[o],r.$activeItems.indexOf(s)===-1&&(n(s).addClass("active"),r.$activeItems.push(s));i.preventDefault()}else"mousedown"===e&&r.isCtrlDown||"keydown"===e&&this.isShiftDown?t.hasClass("active")?(h=r.$activeItems.indexOf(t[0]),r.$activeItems.splice(h,1),t.removeClass("active")):r.$activeItems.push(t.addClass("active")[0]):(n(r.$activeItems).removeClass("active"),r.$activeItems=[t.addClass("active")[0]]);r.hideInput(),this.isFocused||r.focus()}},setActiveOption:function(t,i,r){var e,o,f,s,h,u=this;u.$activeOption&&u.$activeOption.removeClass("active"),u.$activeOption=null,t=n(t),t.length&&(u.$activeOption=t.addClass("active"),!i&&y(i)||(e=u.$dropdown_content.height(),o=u.$activeOption.outerHeight(!0),i=u.$dropdown_content.scrollTop()||0,f=u.$activeOption.offset().top-u.$dropdown_content.offset().top+i,s=f,h=f-e+o,f+o>e+i?u.$dropdown_content.stop().animate({scrollTop:h},r?u.settings.scrollDuration:0):f<i&&u.$dropdown_content.stop().animate({scrollTop:s},r?u.settings.scrollDuration:0)))},selectAll:function(){var n=this;"single"!==n.settings.mode&&(n.$activeItems=Array.prototype.slice.apply(n.$control.children(":not(input)").addClass("active")),n.$activeItems.length&&(n.hideInput(),n.close()),n.focus())},hideInput:function(){var n=this;n.setTextboxValue(""),n.$control_input.css({opacity:0,position:"absolute",left:n.rtl?1e4:-1e4}),n.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var n=this;n.isDisabled||(n.ignoreFocus=!0,n.$control_input[0].focus(),window.setTimeout(function(){n.ignoreFocus=!1,n.onFocus()},0))},blur:function(n){this.$control_input[0].blur(),this.onBlur(null,n)},getScoreFunction:function(n){return this.sifter.getScoreFunction(n,this.getSearchOptions())},getSearchOptions:function(){var t=this.settings,n=t.sortField;return"string"==typeof n&&(n=[{field:n}]),{fields:t.searchField,conjunction:t.searchConjunction,sort:n}},search:function(t){var f,r,e,i=this,o=i.settings,s=this.getSearchOptions();if(o.score&&(e=i.settings.score.apply(this,[t]),"function"!=typeof e))throw new Error('Selectize "score" setting must be a function that returns a function');if(t!==i.lastQuery?(i.lastQuery=t,r=i.sifter.search(t,n.extend(s,{score:e})),i.currentResults=r):r=n.extend(!0,{},i.currentResults),o.hideSelected)for(f=r.items.length-1;f>=0;f--)i.items.indexOf(u(r.items[f].id))!==-1&&r.items.splice(f,1);return r},refreshOptions:function(t){var f,b,it,e,s,l,k,tt,r,p,w,a,nt,h,y,v;"undefined"==typeof t&&(t=!0);var i=this,g=n.trim(i.$control_input.val()),o=i.search(g),c=i.$dropdown_content,rt=i.$activeOption&&u(i.$activeOption.attr("data-value"));for(e=o.items.length,"number"==typeof i.settings.maxOptions&&(e=Math.min(e,i.settings.maxOptions)),s={},l=[],f=0;f<e;f++)for(k=i.options[o.items[f].id],tt=i.render("option",k),r=k[i.settings.optgroupField]||"",p=n.isArray(r)?r:[r],b=0,it=p&&p.length;b<it;b++)r=p[b],i.optgroups.hasOwnProperty(r)||(r=""),s.hasOwnProperty(r)||(s[r]=document.createDocumentFragment(),l.push(r)),s[r].appendChild(tt);for(this.settings.lockOptgroupOrder&&l.sort(function(n,t){var r=i.optgroups[n].$order||0,u=i.optgroups[t].$order||0;return r-u}),w=document.createDocumentFragment(),f=0,e=l.length;f<e;f++)r=l[f],i.optgroups.hasOwnProperty(r)&&s[r].childNodes.length?(a=document.createDocumentFragment(),a.appendChild(i.render("optgroup_header",i.optgroups[r])),a.appendChild(s[r]),w.appendChild(i.render("optgroup",n.extend({},i.optgroups[r],{html:d(a),dom:a})))):w.appendChild(s[r]);if(c.html(w),i.settings.highlight&&o.query.length&&o.tokens.length)for(c.removeHighlight(),f=0,e=o.tokens.length;f<e;f++)ct(c,o.tokens[f].regex);if(!i.settings.hideSelected)for(f=0,e=i.items.length;f<e;f++)i.getOption(i.items[f]).addClass("selected");nt=i.canCreate(g),nt&&(c.prepend(i.render("option_create",{input:g})),v=n(c[0].childNodes[0])),i.hasOptions=o.items.length>0||nt,i.hasOptions?(o.items.length>0?(y=rt&&i.getOption(rt),y&&y.length?h=y:"single"===i.settings.mode&&i.items.length&&(h=i.getOption(i.items[0])),h&&h.length||(h=v&&!i.settings.addPrecedence?i.getAdjacentOption(v,1):c.find("[data-selectable]:first"))):h=v,i.setActiveOption(h),t&&!i.isOpen&&i.open()):(i.setActiveOption(null),t&&i.isOpen&&i.close())},addOption:function(t){var r,f,u,i=this;if(n.isArray(t))for(r=0,f=t.length;r<f;r++)i.addOption(t[r]);else(u=i.registerOption(t))&&(i.userOptions[u]=!0,i.lastQuery=null,i.trigger("option_add",u,t))},registerOption:function(n){var t=u(n[this.settings.valueField]);return"undefined"!=typeof t&&null!==t&&!this.options.hasOwnProperty(t)&&(n.$order=n.$order||++this.order,this.options[t]=n,t)},registerOptionGroup:function(n){var t=u(n[this.settings.optgroupValueField]);return!!t&&(n.$order=n.$order||++this.order,this.optgroups[t]=n,t)},addOptionGroup:function(n,t){t[this.settings.optgroupValueField]=n,(n=this.registerOptionGroup(t))&&this.trigger("optgroup_add",n,t)},removeOptionGroup:function(n){this.optgroups.hasOwnProperty(n)&&(delete this.optgroups[n],this.renderCache={},this.trigger("optgroup_remove",n))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(t,i){var s,h,f,c,e,o,l,r=this;if(t=u(t),f=u(i[r.settings.valueField]),null!==t&&r.options.hasOwnProperty(t)){if("string"!=typeof f)throw new Error("Value must be set in option data");l=r.options[t].$order,f!==t&&(delete r.options[t],c=r.items.indexOf(t),c!==-1&&r.items.splice(c,1,f)),i.$order=i.$order||l,r.options[f]=i,e=r.renderCache.item,o=r.renderCache.option,e&&(delete e[t],delete e[f]),o&&(delete o[t],delete o[f]),r.items.indexOf(f)!==-1&&(s=r.getItem(t),h=n(r.render("item",i)),s.hasClass("active")&&h.addClass("active"),s.replaceWith(h)),r.lastQuery=null,r.isOpen&&r.refreshOptions(!1)}},removeOption:function(n,t){var i=this,r,f;n=u(n),r=i.renderCache.item,f=i.renderCache.option,r&&delete r[n],f&&delete f[n],delete i.userOptions[n],delete i.options[n],i.lastQuery=null,i.trigger("option_remove",n),i.removeItem(n,t)},clearOptions:function(){var n=this;n.loadedSearches={},n.userOptions={},n.renderCache={},n.options=n.sifter.items={},n.lastQuery=null,n.trigger("option_clear"),n.clear()},getOption:function(n){return this.getElementWithValue(n,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(t,i){var r=this.$dropdown.find("[data-selectable]"),u=r.index(t)+i;return u>=0&&u<r.length?r.eq(u):n()},getElementWithValue:function(t,i){if(t=u(t),"undefined"!=typeof t&&null!==t)for(var r=0,f=i.length;r<f;r++)if(i[r].getAttribute("data-value")===t)return n(i[r]);return n()},getItem:function(n){return this.getElementWithValue(n,this.$control.children())},addItems:function(t,i){for(var u=n.isArray(t)?t:[t],r=0,f=u.length;r<f;r++)this.isPending=r<f-1,this.addItem(u[r],i)},addItem:function(t,i){var r=i?[]:["change"];b(this,r,function(){var e,s,h,o,c,r=this,f=r.settings.mode;return t=u(t),r.items.indexOf(t)!==-1?void("single"===f&&r.close()):void(r.options.hasOwnProperty(t)&&("single"===f&&r.clear(i),"multi"===f&&r.isFull()||(e=n(r.render("item",r.options[t])),c=r.isFull(),r.items.splice(r.caretPos,0,t),r.insertAtCaret(e),(!r.isPending||!c&&r.isFull())&&r.refreshState(),r.isSetup&&(h=r.$dropdown_content.find("[data-selectable]"),r.isPending||(s=r.getOption(t),o=r.getAdjacentOption(s,1).attr("data-value"),r.refreshOptions(r.isFocused&&"single"!==f),o&&r.setActiveOption(r.getOption(o))),!h.length||r.isFull()?r.close():r.positionDropdown(),r.updatePlaceholder(),r.trigger("item_add",t,e),r.updateOriginalInput({silent:i})))))})},removeItem:function(t,i){var f,e,o,r=this;f=t instanceof n?t:r.getItem(t),t=u(f.attr("data-value")),e=r.items.indexOf(t),e!==-1&&(f.remove(),f.hasClass("active")&&(o=r.$activeItems.indexOf(f[0]),r.$activeItems.splice(o,1)),r.items.splice(e,1),r.lastQuery=null,!r.settings.persist&&r.userOptions.hasOwnProperty(t)&&r.removeOption(t,i),e<r.caretPos&&r.setCaret(r.caretPos-1),r.refreshState(),r.updatePlaceholder(),r.updateOriginalInput({silent:i}),r.positionDropdown(),r.trigger("item_remove",t,f))},createItem:function(t,i){var r=this,s=r.caretPos,f;if(t=t||n.trim(r.$control_input.val()||""),f=arguments[arguments.length-1],"function"!=typeof f&&(f=function(){}),"boolean"!=typeof i&&(i=!0),!r.canCreate(t))return f(),!1;r.lock();var h="function"==typeof r.settings.create?this.settings.create:function(n){var t={};return t[r.settings.labelField]=n,t[r.settings.valueField]=n,t},e=ut(function(n){if(r.unlock(),!n||"object"!=typeof n)return f();var t=u(n[r.settings.valueField]);return"string"!=typeof t?f():(r.setTextboxValue(""),r.addOption(n),r.setCaret(s),r.addItem(t),r.refreshOptions(i&&"single"!==r.settings.mode),void f(n))}),o=h.apply(this,[t,e]);return"undefined"!=typeof o&&e(o),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){this.refreshValidityState(),this.refreshClasses()},refreshValidityState:function(){if(!this.isRequired)return!1;var n=!this.items.length;this.isInvalid=n,this.$control_input.prop("required",n),this.$input.prop("required",!n)},refreshClasses:function(){var t=this,i=t.isFull(),r=t.isLocked;t.$wrapper.toggleClass("rtl",t.rtl),t.$control.toggleClass("focus",t.isFocused).toggleClass("disabled",t.isDisabled).toggleClass("required",t.isRequired).toggleClass("invalid",t.isInvalid).toggleClass("locked",r).toggleClass("full",i).toggleClass("not-full",!i).toggleClass("input-active",t.isFocused&&!t.isInputHidden).toggleClass("dropdown-active",t.isOpen).toggleClass("has-options",!n.isEmptyObject(t.options)).toggleClass("has-items",t.items.length>0),t.$control_input.data("grow",!i&&!r)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(n){var i,u,r,f,t=this;if(n=n||{},t.tagType===c){for(r=[],i=0,u=t.items.length;i<u;i++)f=t.options[t.items[i]][t.settings.labelField]||"",r.push('<option value="'+o(t.items[i])+'" selected="selected">'+o(f)+"<\/option>");r.length||this.$input.attr("multiple")||r.push('<option value="" selected="selected"><\/option>'),t.$input.html(r.join(""))}else t.$input.val(t.getValue()),t.$input.attr("value",t.$input.val());t.isSetup&&(n.silent||t.trigger("change",t.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var n=this.$control_input;this.items.length?n.removeAttr("placeholder"):n.attr("placeholder",this.settings.placeholder),n.triggerHandler("update",{force:!0})}},open:function(){var n=this;n.isLocked||n.isOpen||"multi"===n.settings.mode&&n.isFull()||(n.focus(),n.isOpen=!0,n.refreshState(),n.$dropdown.css({visibility:"hidden",display:"block"}),n.positionDropdown(),n.$dropdown.css({visibility:"visible"}),n.trigger("dropdown_open",n.$dropdown))},close:function(){var n=this,t=n.isOpen;"single"===n.settings.mode&&n.items.length&&(n.hideInput(),n.$control_input.blur()),n.isOpen=!1,n.$dropdown.hide(),n.setActiveOption(null),n.refreshState(),t&&n.trigger("dropdown_close",n.$dropdown)},positionDropdown:function(){var n=this.$control,t="body"===this.settings.dropdownParent?n.offset():n.position();t.top+=n.outerHeight(!0),this.$dropdown.css({width:n.outerWidth(),top:t.top,left:t.left})},clear:function(n){var t=this;t.items.length&&(t.$control.children(":not(input)").remove(),t.items=[],t.lastQuery=null,t.setCaret(0),t.setActiveItem(null),t.updatePlaceholder(),t.updateOriginalInput({silent:n}),t.refreshState(),t.showInput(),t.trigger("clear"))},insertAtCaret:function(t){var i=Math.min(this.caretPos,this.items.length);0===i?this.$control.prepend(t):n(this.$control[0].childNodes[i]).before(t),this.setCaret(i+1)},deleteSelection:function(t){var f,l,u,e,r,o,h,c,a,i=this;if(u=t&&t.keyCode===s?-1:1,e=v(i.$control_input[0]),i.$activeOption&&!i.settings.hideSelected&&(h=i.getAdjacentOption(i.$activeOption,-1).attr("data-value")),r=[],i.$activeItems.length){for(a=i.$control.children(".active:"+(u>0?"last":"first")),o=i.$control.children(":not(input)").index(a),u>0&&o++,f=0,l=i.$activeItems.length;f<l;f++)r.push(n(i.$activeItems[f]).attr("data-value"));t&&(t.preventDefault(),t.stopPropagation())}else(i.isFocused||"single"===i.settings.mode)&&i.items.length&&(u<0&&0===e.start&&0===e.length?r.push(i.items[i.caretPos-1]):u>0&&e.start===i.$control_input.val().length&&r.push(i.items[i.caretPos]));if(!r.length||"function"==typeof i.settings.onDelete&&i.settings.onDelete.apply(i,[r])===!1)return!1;for("undefined"!=typeof o&&i.setCaret(o);r.length;)i.removeItem(r.pop());return i.showInput(),i.positionDropdown(),i.refreshOptions(!0),h&&(c=i.getOption(h),c.length&&i.setActiveOption(c)),!0},advanceSelection:function(n,t){var o,r,u,f,s,e,i=this;0!==n&&(i.rtl&&(n*=-1),o=n>0?"last":"first",r=v(i.$control_input[0]),i.isFocused&&!i.isInputHidden?(f=i.$control_input.val().length,s=n<0?0===r.start&&0===r.length:r.start===f,s&&!f&&i.advanceCaret(n,t)):(e=i.$control.children(".active:"+o),e.length&&(u=i.$control.children(":not(input)").index(e),i.setActiveItem(null),i.setCaret(n>0?u+1:u))))},advanceCaret:function(n,t){var u,r,i=this;0!==n&&(u=n>0?"next":"prev",i.isShiftDown?(r=i.$control_input[u](),r.length&&(i.hideInput(),i.setActiveItem(r),t&&t.preventDefault())):i.setCaret(i.caretPos+n))},setCaret:function(t){var i=this,r,e,u,f;if(t="single"===i.settings.mode?i.items.length:Math.max(0,Math.min(i.items.length,t)),!i.isPending)for(u=i.$control.children(":not(input)"),r=0,e=u.length;r<e;r++)f=n(u[r]).detach(),r<t?i.$control_input.before(f):i.$control.append(f);i.caretPos=t},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){var n=this;n.$input.prop("disabled",!0),n.$control_input.prop("disabled",!0).prop("tabindex",-1),n.isDisabled=!0,n.lock()},enable:function(){var n=this;n.$input.prop("disabled",!1),n.$control_input.prop("disabled",!1).prop("tabindex",n.tabIndex),n.isDisabled=!1,n.unlock()},destroy:function(){var t=this,i=t.eventNS,r=t.revertSettings;t.trigger("destroy"),t.off(),t.$wrapper.remove(),t.$dropdown.remove(),t.$input.html("").append(r.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:r.tabindex}).show(),t.$control_input.removeData("grow"),t.$input.removeData("selectize"),n(window).off(i),n(document).off(i),n(document.body).off(i),delete t.$input[0].selectize},render:function(t,i){var f,h,e="",s=!1,r=this;return"option"!==t&&"item"!==t||(f=u(i[r.settings.valueField]),s=!!f),s&&(y(r.renderCache[t])||(r.renderCache[t]={}),r.renderCache[t].hasOwnProperty(f))?r.renderCache[t][f]:(e=n(r.settings.render[t].apply(this,[i,o])),"option"===t||"option_create"===t?e.attr("data-selectable",""):"optgroup"===t&&(h=i[r.settings.optgroupValueField]||"",e.attr("data-group",h)),"option"!==t&&"item"!==t||e.attr("data-value",f||""),s&&(r.renderCache[t][f]=e[0]),e[0])},clearCache:function(n){var t=this;"undefined"==typeof n?t.renderCache={}:delete t.renderCache[n]},canCreate:function(n){var i=this,t;return i.settings.create?(t=i.settings.createFilter,n.length&&("function"!=typeof t||t.apply(i,[n]))&&("string"!=typeof t||new RegExp(t).test(n))&&(!(t instanceof RegExp)||t.test(n))):!1}}),r.count=0,r.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},n.fn.selectize=function(t){var h=n.fn.selectize.defaults,i=n.extend({},h,t),o=i.dataAttr,s=i.labelField,e=i.valueField,f=i.optgroupField,c=i.optgroupLabelField,l=i.optgroupValueField,a=function(t,r){var u,h,f,c,a=t.attr(o),l;if(a)for(r.options=JSON.parse(a),u=0,h=r.options.length;u<h;u++)r.items.push(r.options[u][e]);else{if(l=n.trim(t.val()||""),!i.allowEmptyOption&&!l.length)return;for(f=l.split(i.delimiter),u=0,h=f.length;u<h;u++)c={},c[s]=f[u],c[e]=f[u],r.options.push(c);r.items=f}},v=function(t,r){var h,p,y,a,k=r.options,v={},w=function(n){var t=o&&n.attr(o);return"string"==typeof t&&t.length?JSON.parse(t):null},b=function(t,o){var h,l,c;t=n(t),h=u(t.val()),(h||i.allowEmptyOption)&&(v.hasOwnProperty(h)?o&&(l=v[h][f],l?n.isArray(l)?l.push(o):v[h][f]=[l,o]:v[h][f]=o):(c=w(t)||{},c[s]=c[s]||t.text(),c[e]=c[e]||h,c[f]=c[f]||o,v[h]=c,k.push(c),t.is(":selected")&&r.items.push(h)))},d=function(t){var u,o,i,f,e;for(t=n(t),i=t.attr("label"),i&&(f=w(t)||{},f[c]=i,f[l]=i,r.optgroups.push(f)),e=n("option",t),u=0,o=e.length;u<o;u++)b(e[u],i)};for(r.maxItems=t.attr("multiple")?null:1,a=t.children(),h=0,p=a.length;h<p;h++)y=a[h].tagName.toLowerCase(),"optgroup"===y?d(a[h]):"option"===y&&b(a[h])};return this.each(function(){var f;if(!this.selectize){var o,u=n(this),s=this.tagName.toLowerCase(),e=u.attr("placeholder")||u.attr("data-placeholder");e||i.allowEmptyOption||(e=u.children('option[value=""]').text()),f={placeholder:e,options:[],optgroups:[],items:[]},"select"===s?v(u,f):a(u,f),o=new r(u,n.extend(!0,{},h,f,t))}})},n.fn.selectize.defaults=r.defaults,n.fn.selectize.support={validity:k},r.define("drag_drop",function(){if(!n.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var i=this;i.lock=function(){var n=i.lock;return function(){var t=i.$control.data("sortable");return t&&t.disable(),n.apply(i,arguments)}}(),i.unlock=function(){var n=i.unlock;return function(){var t=i.$control.data("sortable");return t&&t.enable(),n.apply(i,arguments)}}(),i.setup=function(){var t=i.setup;return function(){t.apply(this,arguments);var r=i.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:i.isLocked,start:function(n,t){t.placeholder.css("width",t.helper.css("width")),r.css({overflow:"visible"})},stop:function(){r.css({overflow:"hidden"});var u=i.$activeItems?i.$activeItems.slice():null,t=[];r.children("[data-value]").each(function(){t.push(n(this).attr("data-value"))}),i.setValue(t),i.setActiveItem(u)}})}}()}}),r.define("dropdown_header",function(t){var i=this;t=n.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(n){return'<div class="'+n.headerClass+'"><div class="'+n.titleRowClass+'"><span class="'+n.labelClass+'">'+n.title+'<\/span><a href="javascript:void(0)" class="'+n.closeClass+'">&times;<\/a><\/div><\/div>'}},t),i.setup=function(){var r=i.setup;return function(){r.apply(i,arguments),i.$dropdown_header=n(t.html(t)),i.$dropdown.prepend(i.$dropdown_header)}}()}),r.define("optgroup_columns",function(t){var i=this,r,u;t=n.extend({equalizeWidth:!0,equalizeHeight:!0},t),this.getAdjacentOption=function(t,i){var r=t.closest("[data-group]").find("[data-selectable]"),u=r.index(t)+i;return u>=0&&u<r.length?r.eq(u):n()},this.onKeyDown=function(){var n=i.onKeyDown;return function(t){var e,u,f,r;return!this.isOpen||t.keyCode!==l&&t.keyCode!==p?n.apply(this,arguments):(i.ignoreHover=!0,r=this.$activeOption.closest("[data-group]"),e=r.find("[data-selectable]").index(this.$activeOption),r=t.keyCode===l?r.prev("[data-group]"):r.next("[data-group]"),f=r.find("[data-selectable]"),u=f.eq(Math.min(f.length-1,e)),void(u.length&&this.setActiveOption(u)))}}(),r=function(){var n,t=r.width,i=document;return"undefined"==typeof t&&(n=i.createElement("div"),n.innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"><\/div><\/div>',n=n.firstChild,i.body.appendChild(n),t=r.width=n.offsetWidth-n.clientWidth,i.body.removeChild(n)),t},u=function(){var e,u,o,s,c,h,f;if(f=n("[data-group]",i.$dropdown_content),u=f.length,u&&i.$dropdown_content.width()){if(t.equalizeHeight){for(o=0,e=0;e<u;e++)o=Math.max(o,f.eq(e).height());f.css({height:o})}t.equalizeWidth&&(h=i.$dropdown_content.innerWidth()-r(),s=Math.round(h/u),f.css({width:s}),u>1&&(c=h-s*(u-1),f.eq(u-1).css({width:c})))}},(t.equalizeHeight||t.equalizeWidth)&&(h.after(this,"positionDropdown",u),h.after(this,"refreshOptions",u))}),r.define("remove_button",function(t){t=n.extend({label:"&times;",title:"Remove",className:"remove",append:!0},t);var i=function(t,i){i.className="remove-single";var r=t,u='<a href="javascript:void(0)" class="'+i.className+'" tabindex="-1" title="'+o(i.title)+'">'+i.label+"<\/a>",f=function(n,t){return n+t};t.setup=function(){var e=r.setup;return function(){if(i.append){var o=n(r.$input.context).attr("id"),s=(n("#"+o),r.settings.render.item);r.settings.render.item=function(){return f(s.apply(t,arguments),u)}}e.apply(t,arguments),t.$control.on("click","."+i.className,function(n){n.preventDefault(),r.isLocked||r.clear()})}}()},r=function(t,i){var r=t,u='<a href="javascript:void(0)" class="'+i.className+'" tabindex="-1" title="'+o(i.title)+'">'+i.label+"<\/a>",f=function(n,t){var i=n.search(/(<\/[^>]+>\s*)$/);return n.substring(0,i)+t+n.substring(i)};t.setup=function(){var e=r.setup;return function(){if(i.append){var o=r.settings.render.item;r.settings.render.item=function(){return f(o.apply(t,arguments),u)}}e.apply(t,arguments),t.$control.on("click","."+i.className,function(t){if(t.preventDefault(),!r.isLocked){var i=n(t.currentTarget).parent();r.setActiveItem(i),r.deleteSelection()&&r.setCaret(r.items.length)}})}}()};return"single"===this.settings.mode?void i(this,t):void r(this,t)}),r.define("restore_on_backspace",function(n){var t=this;n.text=n.text||function(n){return n[this.settings.labelField]},this.onKeyDown=function(){var i=t.onKeyDown;return function(t){var r,u;return t.keyCode===s&&""===this.$control_input.val()&&!this.$activeItems.length&&(r=this.caretPos-1,r>=0&&r<this.items.length)?(u=this.options[this.items[r]],this.deleteSelection(t)&&(this.setTextboxValue(n.text.apply(this,[u])),this.refreshOptions(!0)),void t.preventDefault()):i.apply(this,arguments)}}()}),r});
/*! fixto - v0.5.0 - 2016-06-16
* http://github.com/bbarakaci/fixto/*/
fixto=function(n,t,i){function y(){this._vendor=null}function p(){var r=!1,n=i.createElement("div"),t=i.createElement("div"),u;return n.appendChild(t),n.style[v]="translate(0)",n.style.marginTop="10px",n.style.visibility="hidden",t.style.position="fixed",t.style.top=0,i.body.appendChild(n),u=t.getBoundingClientRect(),u.top>0&&(r=!0),i.body.removeChild(n),r}function u(t,i,r){this.child=t,this._$child=n(t),this.parent=i,this.options={className:"fixto-fixed",top:0,mindViewport:!1},this._setOptions(r)}function f(n,t,i){u.call(this,n,t,i),this._replacer=new a.MimicNode(n),this._ghostNode=this._replacer.replacer,this._saveStyles(),this._saveViewportHeight(),this._proxied_onscroll=this._bind(this._onscroll,this),this._proxied_onresize=this._bind(this._onresize,this),this.start()}function s(n,t,i){u.call(this,n,t,i),this.start()}var r=function(){var n={getAll:function(n){return i.defaultView.getComputedStyle(n)},get:function(n,t){return this.getAll(n)[t]},toFloat:function(n){return parseFloat(n,10)||0},getFloat:function(n,t){return this.toFloat(this.get(n,t))},_getAllCurrentStyle:function(n){return n.currentStyle}};return i.documentElement.currentStyle&&(n.getAll=n._getAllCurrentStyle),n}(),a=function(){function t(n){this.element=n,this.replacer=i.createElement("div"),this.replacer.style.visibility="hidden",this.hide(),n.parentNode.insertBefore(this.replacer,n)}t.prototype={replace:function(){var n=this.replacer.style,t=r.getAll(this.element);n.width=this._width(),n.height=this._height(),n.marginTop=t.marginTop,n.marginBottom=t.marginBottom,n.marginLeft=t.marginLeft,n.marginRight=t.marginRight,n.cssFloat=t.cssFloat,n.styleFloat=t.styleFloat,n.position=t.position,n.top=t.top,n.right=t.right,n.bottom=t.bottom,n.left=t.left,n.display=t.display},hide:function(){this.replacer.style.display="none"},_width:function(){return this.element.getBoundingClientRect().width+"px"},_widthOffset:function(){return this.element.offsetWidth+"px"},_height:function(){return this.element.getBoundingClientRect().height+"px"},_heightOffset:function(){return this.element.offsetHeight+"px"},destroy:function(){n(this.replacer).remove();for(var t in this)this.hasOwnProperty(t)&&(this[t]=null)}};var u=i.documentElement.getBoundingClientRect();return u.width||(t.prototype._width=t.prototype._widthOffset,t.prototype._height=t.prototype._heightOffset),{MimicNode:t,computedStyle:r}}(),o;y.prototype={_vendors:{webkit:{cssPrefix:"-webkit-",jsPrefix:"Webkit"},moz:{cssPrefix:"-moz-",jsPrefix:"Moz"},ms:{cssPrefix:"-ms-",jsPrefix:"ms"},opera:{cssPrefix:"-o-",jsPrefix:"O"}},_prefixJsProperty:function(n,t){return n.jsPrefix+t[0].toUpperCase()+t.substr(1)},_prefixValue:function(n,t){return n.cssPrefix+t},_valueSupported:function(n,t,i){try{return i.style[n]=t,i.style[n]===t}catch(r){return!1}},propertySupported:function(n){return i.documentElement.style[n]!==undefined},getJsProperty:function(n){var t,i;if(this.propertySupported(n))return n;if(this._vendor)return this._prefixJsProperty(this._vendor,n);for(i in this._vendors)if(t=this._prefixJsProperty(this._vendors[i],n),this.propertySupported(t))return this._vendor=this._vendors[i],t;return null},getCssValue:function(n,t){var u=i.createElement("div"),f=this.getJsProperty(n),r,e;if(this._valueSupported(f,t,u))return t;if(this._vendor&&(r=this._prefixValue(this._vendor,t),this._valueSupported(f,r,u)))return r;for(e in this._vendors)if(r=this._prefixValue(this._vendors[e],t),this._valueSupported(f,r,u))return this._vendor=this._vendors[e],r;return null}};var c=new y,v=c.getJsProperty("transform"),e,l=c.getCssValue("position","sticky"),w=c.getCssValue("position","fixed"),b=navigator.appName==="Microsoft Internet Explorer",h;return b&&(h=parseFloat(navigator.appVersion.split("MSIE")[1])),u.prototype={_mindtop:function(){var i=0,n,u,o,t,e,f;if(this._$mind)for(t=0,e=this._$mind.length;t<e;t++)n=this._$mind[t],u=n.getBoundingClientRect(),u.height?i+=u.height:(f=r.getAll(n),i+=n.offsetHeight+r.toFloat(f.marginTop)+r.toFloat(f.marginBottom));return i},stop:function(){this._stop(),this._running=!1},start:function(){this._running||(this._start(),this._running=!0)},destroy:function(){this.stop(),this._destroy(),this._$child.removeData("fixto-instance");for(var n in this)this.hasOwnProperty(n)&&(this[n]=null)},_setOptions:function(t){n.extend(this.options,t),this.options.mind&&(this._$mind=n(this.options.mind)),this.options.zIndex&&(this.child.style.zIndex=this.options.zIndex)},setOptions:function(n){this._setOptions(n),this.refresh()},_stop:function(){},_start:function(){},_destroy:function(){},refresh:function(){}},f.prototype=new u,n.extend(f.prototype,{_bind:function(n,t){return function(){return n.call(t)}},_toresize:h===8?i.documentElement:t,_onscroll:function(){if(this._scrollTop=i.documentElement.scrollTop||i.body.scrollTop,this._parentBottom=this.parent.offsetHeight+this._fullOffset("offsetTop",this.parent),this.options.mindBottomPadding!==!1&&(this._parentBottom-=r.getFloat(this.parent,"paddingBottom")),!this.fixed&&this._shouldFix())this._fix(),this._adjust();else{if(this._scrollTop>this._parentBottom||this._scrollTop<this._fullOffset("offsetTop",this._ghostNode)-this.options.top-this._mindtop()){this._unfix();return}this._adjust()}},_shouldFix:function(){if(this._scrollTop<this._parentBottom&&this._scrollTop>this._fullOffset("offsetTop",this.child)-this.options.top-this._mindtop())return this.options.mindViewport&&!this._isViewportAvailable()?!1:!0},_isViewportAvailable:function(){var n=r.getAll(this.child);return this._viewportHeight>this.child.offsetHeight+r.toFloat(n.marginTop)+r.toFloat(n.marginBottom)},_adjust:function(){var i=0,u=this._mindtop(),n=0,f=r.getAll(this.child),t=null;e&&(t=this._getContext(),t&&(i=Math.abs(t.getBoundingClientRect().top))),n=this._parentBottom-this._scrollTop-(this.child.offsetHeight+r.toFloat(f.marginBottom)+u+this.options.top),n>0&&(n=0),this.child.style.top=n+u+i+this.options.top-r.toFloat(f.marginTop)+"px"},_fullOffset:function(n,t,i){for(var u=t[n],r=t.offsetParent;r!==null&&r!==i;)u+=r[n],r=r.offsetParent;return u},_getContext:function(){for(var n,u=this.child,t=null,f;!t;){if(n=u.parentNode,n===i.documentElement)return null;if(f=r.getAll(n),f[v]!=="none"){t=n;break}u=n}return t},_fix:function(){var t=this.child,u=t.style,n=r.getAll(t),o=t.getBoundingClientRect().left,s=n.width,f;this._saveStyles(),i.documentElement.currentStyle&&(s=t.offsetWidth-(r.toFloat(n.paddingLeft)+r.toFloat(n.paddingRight)+r.toFloat(n.borderLeftWidth)+r.toFloat(n.borderRightWidth))+"px"),e&&(f=this._getContext(),f&&(o=t.getBoundingClientRect().left-f.getBoundingClientRect().left)),this._replacer.replace(),u.left=o-r.toFloat(n.marginLeft)+"px",u.width=s,u.position="fixed",u.top=this._mindtop()+this.options.top-r.toFloat(n.marginTop)+"px",this._$child.addClass(this.options.className),this.fixed=!0},_unfix:function(){var n=this.child.style;this._replacer.hide(),n.position=this._childOriginalPosition,n.top=this._childOriginalTop,n.width=this._childOriginalWidth,n.left=this._childOriginalLeft,this._$child.removeClass(this.options.className),this.fixed=!1},_saveStyles:function(){var n=this.child.style;this._childOriginalPosition=n.position,this._childOriginalTop=n.top,this._childOriginalWidth=n.width,this._childOriginalLeft=n.left},_onresize:function(){this.refresh()},_saveViewportHeight:function(){this._viewportHeight=t.innerHeight||i.documentElement.clientHeight},_stop:function(){this._unfix(),n(t).unbind("scroll",this._proxied_onscroll),n(this._toresize).unbind("resize",this._proxied_onresize)},_start:function(){this._onscroll(),n(t).bind("scroll",this._proxied_onscroll),n(this._toresize).bind("resize",this._proxied_onresize)},_destroy:function(){this._replacer.destroy()},refresh:function(){this._saveViewportHeight(),this._unfix(),this._onscroll()}}),s.prototype=new u,n.extend(s.prototype,{_start:function(){var n=r.getAll(this.child);this._childOriginalPosition=n.position,this._childOriginalTop=n.top,this.child.style.position=l,this.refresh()},_stop:function(){this.child.style.position=this._childOriginalPosition,this.child.style.top=this._childOriginalTop},refresh:function(){this.child.style.top=this._mindtop()+this.options.top+"px"}}),o=function(n,t,i){return l&&!i||l&&i&&i.useNativeSticky!==!1?new s(n,t,i):w?(e===undefined&&(e=p()),new f(n,t,i)):"Neither fixed nor sticky positioning supported"},h<8&&(o=function(){return"not supported"}),n.fn.fixTo=function(t,i){var u=n(t),r=0;return this.each(function(){var f=n(this).data("fixto-instance"),e;f?(e=t,f[e].call(f,i)):n(this).data("fixto-instance",o(this,u[r],i)),r++})},{FixToContainer:f,fixTo:o,computedStyle:r,mimicNode:a}}(window.jQuery,window,document),function(n,t){typeof define=="function"&&define.amd?define(t):typeof exports=="object"?module.exports=t():n.NProgress=t()}(this,function(){function u(n,t,i){return n<t?t:n>i?i:n}function r(n){return(-1+n)*100}function l(n,i,u){var f;return f=t.positionUsing==="translate3d"?{transform:"translate3d("+r(n)+"%,0,0)"}:t.positionUsing==="translate"?{transform:"translate("+r(n)+"%,0)"}:{"margin-left":r(n)+"%"},f.transition="all "+i+"ms "+u,f}function o(n,t){var i=typeof n=="string"?n:f(n);return i.indexOf(" "+t+" ")>=0}function s(n,t){var i=f(n),r=i+t;o(i,t)||(n.className=r.substring(1))}function h(n,t){var r=f(n),i;o(n,t)&&(i=r.replace(" "+t+" "," "),n.className=i.substring(1,i.length-1))}function f(n){return(" "+(n.className||"")+" ").replace(/\s+/gi," ")}function c(n){n&&n.parentNode&&n.parentNode.removeChild(n)}var n={},t,e,i;return n.version="0.2.0",t=n.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"><\/div><\/div><div class="spinner" role="spinner"><div class="spinner-icon"><\/div><\/div>'},n.configure=function(n){var i,r;for(i in n)r=n[i],r!==undefined&&n.hasOwnProperty(i)&&(t[i]=r);return this},n.status=null,n.set=function(r){var s=n.isStarted();r=u(r,t.minimum,1),n.status=r===1?null:r;var f=n.render(!s),h=f.querySelector(t.barSelector),o=t.speed,c=t.easing;return f.offsetWidth,e(function(u){t.positionUsing===""&&(t.positionUsing=n.getPositioningCSS()),i(h,l(r,o,c)),r===1?(i(f,{transition:"none",opacity:1}),f.offsetWidth,setTimeout(function(){i(f,{transition:"all "+o+"ms linear",opacity:0}),setTimeout(function(){n.remove(),u()},o)},o)):setTimeout(u,o)}),this},n.isStarted=function(){return typeof n.status=="number"},n.start=function(){n.status||n.set(0);var i=function(){setTimeout(function(){n.status&&(n.trickle(),i())},t.trickleSpeed)};return t.trickle&&i(),this},n.done=function(t){return!t&&!n.status?this:n.inc(.3+.5*Math.random()).set(1)},n.inc=function(t){var i=n.status;return i?(typeof t!="number"&&(t=(1-i)*u(Math.random()*i,.1,.95)),i=u(i+t,0,.994),n.set(i)):n.start()},n.trickle=function(){return n.inc(Math.random()*t.trickleRate)},function(){var i=0,t=0;n.promise=function(r){return!r||r.state()==="resolved"?this:(t===0&&n.start(),i++,t++,r.always(function(){t--,t===0?(i=0,n.done()):n.set((i-t)/i)}),this)}}(),n.render=function(u){var f;if(n.isRendered())return document.getElementById("nprogress");s(document.documentElement,"nprogress-busy"),f=document.createElement("div"),f.id="nprogress",f.innerHTML=t.template;var h=f.querySelector(t.barSelector),l=u?"-100":r(n.status||0),e=document.querySelector(t.parent),o;return i(h,{transition:"all 0 linear",transform:"translate3d("+l+"%,0,0)"}),t.showSpinner||(o=f.querySelector(t.spinnerSelector),o&&c(o)),e!=document.body&&s(e,"nprogress-custom-parent"),e.appendChild(f),f},n.remove=function(){h(document.documentElement,"nprogress-busy"),h(document.querySelector(t.parent),"nprogress-custom-parent");var n=document.getElementById("nprogress");n&&c(n)},n.isRendered=function(){return!!document.getElementById("nprogress")},n.getPositioningCSS=function(){var n=document.body.style,t="WebkitTransform"in n?"Webkit":"MozTransform"in n?"Moz":"msTransform"in n?"ms":"OTransform"in n?"O":"";return t+"Perspective"in n?"translate3d":t+"Transform"in n?"translate":"margin"},e=function(){function t(){var i=n.shift();i&&i(t)}var n=[];return function(i){n.push(i),n.length==1&&t()}}(),i=function(){function r(n){return n.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(n,t){return t.toUpperCase()})}function u(t){var u=document.body.style,i,f,r;if(t in u)return t;for(i=n.length,f=t.charAt(0).toUpperCase()+t.slice(1);i--;)if(r=n[i]+f,r in u)return r;return t}function f(n){return n=r(n),t[n]||(t[n]=u(n))}function i(n,t,i){t=f(t),n.style[t]=i}var n=["Webkit","O","Moz","ms"],t={};return function(n,t){var u=arguments,r,f;if(u.length==2)for(r in t)f=t[r],f!==undefined&&t.hasOwnProperty(r)&&i(n,r,f);else i(n,u[1],u[2])}}(),n}),social={},social.base=function(){},social.email=function(n){this.baseUrl=n},social.email.prototype.sendContact=function(n,t,i,r,u,f){var e="";switch(r.emailTemplate){case 1:e=this.baseUrl+"?recaptcha="+recaptchaValue;break;case 2:e=this.baseUrl+"/recomendar-noticia-email?recaptcha="+recaptchaValue+"&url="+t+"&newsId="+i}$.ajax({headers:{Accept:"text/plain; charset=utf-8","Content-Type":"application/json; charset=utf-8"},method:"POST",data:JSON.stringify(r),url:e,success:u,error:f})},social.email.prototype.prototype=Object.create(social.base.prototype),social.email.prototype.constructor=social.email,CryptoJS=CryptoJS||function(n,t){var u={},f=u.lib={},o=function(){},i=f.Base={extend:function(n){o.prototype=this;var t=new o;return n&&t.mixIn(n),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var n=this.extend();return n.init.apply(n,arguments),n},init:function(){},mixIn:function(n){for(var t in n)n.hasOwnProperty(t)&&(this[t]=n[t]);n.hasOwnProperty("toString")&&(this.toString=n.toString)},clone:function(){return this.init.prototype.extend(this)}},r=f.WordArray=i.extend({init:function(n,i){n=this.words=n||[],this.sigBytes=i!=t?i:4*n.length},toString:function(n){return(n||l).stringify(this)},concat:function(n){var i=this.words,r=n.words,u=this.sigBytes,t;if(n=n.sigBytes,this.clamp(),u%4)for(t=0;t<n;t++)i[u+t>>>2]|=(r[t>>>2]>>>24-8*(t%4)&255)<<24-8*((u+t)%4);else if(65535<r.length)for(t=0;t<n;t+=4)i[u+t>>>2]=r[t>>>2];else i.push.apply(i,r);return this.sigBytes+=n,this},clamp:function(){var i=this.words,t=this.sigBytes;i[t>>>2]&=4294967295<<32-8*(t%4),i.length=n.ceil(t/4)},clone:function(){var n=i.clone.call(this);return n.words=this.words.slice(0),n},random:function(t){for(var i=[],u=0;u<t;u+=4)i.push(4294967296*n.random()|0);return new r.init(i,t)}}),e=u.enc={},l=e.Hex={stringify:function(n){var u=n.words,i,t,r;for(n=n.sigBytes,i=[],t=0;t<n;t++)r=u[t>>>2]>>>24-8*(t%4)&255,i.push((r>>>4).toString(16)),i.push((r&15).toString(16));return i.join("")},parse:function(n){for(var i=n.length,u=[],t=0;t<i;t+=2)u[t>>>3]|=parseInt(n.substr(t,2),16)<<24-4*(t%8);return new r.init(u,i/2)}},s=e.Latin1={stringify:function(n){var r=n.words,i,t;for(n=n.sigBytes,i=[],t=0;t<n;t++)i.push(String.fromCharCode(r[t>>>2]>>>24-8*(t%4)&255));return i.join("")},parse:function(n){for(var i=n.length,u=[],t=0;t<i;t++)u[t>>>2]|=(n.charCodeAt(t)&255)<<24-8*(t%4);return new r.init(u,i)}},a=e.Utf8={stringify:function(n){try{return decodeURIComponent(escape(s.stringify(n)))}catch(t){throw Error("Malformed UTF-8 data");}},parse:function(n){return s.parse(unescape(encodeURIComponent(n)))}},h=f.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new r.init,this._nDataBytes=0},_append:function(n){"string"==typeof n&&(n=a.parse(n)),this._data.concat(n),this._nDataBytes+=n.sigBytes},_process:function(t){var f=this._data,s=f.words,u=f.sigBytes,e=this.blockSize,o=u/(4*e),o=t?n.ceil(o):n.max((o|0)-this._minBufferSize,0),i;if(t=o*e,u=n.min(4*t,u),t){for(i=0;i<t;i+=e)this._doProcessBlock(s,i);i=s.splice(0,t),f.sigBytes-=u}return new r.init(i,u)},clone:function(){var n=i.clone.call(this);return n._data=this._data.clone(),n},_minBufferSize:0}),c;return f.Hasher=h.extend({cfg:i.extend(),init:function(n){this.cfg=this.cfg.extend(n),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(n){return this._append(n),this._process(),this},finalize:function(n){return n&&this._append(n),this._doFinalize()},blockSize:16,_createHelper:function(n){return function(t,i){return new n.init(i).finalize(t)}},_createHmacHelper:function(n){return function(t,i){return new c.HMAC.init(n,i).finalize(t)}}}),c=u.algo={},u}(Math),function(n){function i(n,t,i,r,u,f,e){return n=n+(t&i|~t&r)+u+e,(n<<f|n>>>32-f)+t}function r(n,t,i,r,u,f,e){return n=n+(t&r|i&~r)+u+e,(n<<f|n>>>32-f)+t}function u(n,t,i,r,u,f,e){return n=n+(t^i^r)+u+e,(n<<f|n>>>32-f)+t}function f(n,t,i,r,u,f,e){return n=n+(i^(t|~r))+u+e,(n<<f|n>>>32-f)+t}for(var o=CryptoJS,e=o.lib,c=e.WordArray,s=e.Hasher,e=o.algo,t=[],h=0;64>h;h++)t[h]=4294967296*n.abs(n.sin(h+1))|0;e=e.MD5=s.extend({_doReset:function(){this._hash=new c.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(n,e){for(var v,a,l=0;16>l;l++)v=e+l,a=n[v],n[v]=(a<<8|a>>>24)&16711935|(a<<24|a>>>8)&4278255360;var l=this._hash.words,v=n[e+0],a=n[e+1],ft=n[e+2],y=n[e+3],ut=n[e+4],rt=n[e+5],it=n[e+6],tt=n[e+7],et=n[e+8],nt=n[e+9],g=n[e+10],d=n[e+11],k=n[e+12],b=n[e+13],w=n[e+14],p=n[e+15],s=l[0],o=l[1],h=l[2],c=l[3],s=i(s,o,h,c,v,7,t[0]),c=i(c,s,o,h,a,12,t[1]),h=i(h,c,s,o,ft,17,t[2]),o=i(o,h,c,s,y,22,t[3]),s=i(s,o,h,c,ut,7,t[4]),c=i(c,s,o,h,rt,12,t[5]),h=i(h,c,s,o,it,17,t[6]),o=i(o,h,c,s,tt,22,t[7]),s=i(s,o,h,c,et,7,t[8]),c=i(c,s,o,h,nt,12,t[9]),h=i(h,c,s,o,g,17,t[10]),o=i(o,h,c,s,d,22,t[11]),s=i(s,o,h,c,k,7,t[12]),c=i(c,s,o,h,b,12,t[13]),h=i(h,c,s,o,w,17,t[14]),o=i(o,h,c,s,p,22,t[15]),s=r(s,o,h,c,a,5,t[16]),c=r(c,s,o,h,it,9,t[17]),h=r(h,c,s,o,d,14,t[18]),o=r(o,h,c,s,v,20,t[19]),s=r(s,o,h,c,rt,5,t[20]),c=r(c,s,o,h,g,9,t[21]),h=r(h,c,s,o,p,14,t[22]),o=r(o,h,c,s,ut,20,t[23]),s=r(s,o,h,c,nt,5,t[24]),c=r(c,s,o,h,w,9,t[25]),h=r(h,c,s,o,y,14,t[26]),o=r(o,h,c,s,et,20,t[27]),s=r(s,o,h,c,b,5,t[28]),c=r(c,s,o,h,ft,9,t[29]),h=r(h,c,s,o,tt,14,t[30]),o=r(o,h,c,s,k,20,t[31]),s=u(s,o,h,c,rt,4,t[32]),c=u(c,s,o,h,et,11,t[33]),h=u(h,c,s,o,d,16,t[34]),o=u(o,h,c,s,w,23,t[35]),s=u(s,o,h,c,a,4,t[36]),c=u(c,s,o,h,ut,11,t[37]),h=u(h,c,s,o,tt,16,t[38]),o=u(o,h,c,s,g,23,t[39]),s=u(s,o,h,c,b,4,t[40]),c=u(c,s,o,h,v,11,t[41]),h=u(h,c,s,o,y,16,t[42]),o=u(o,h,c,s,it,23,t[43]),s=u(s,o,h,c,nt,4,t[44]),c=u(c,s,o,h,k,11,t[45]),h=u(h,c,s,o,p,16,t[46]),o=u(o,h,c,s,ft,23,t[47]),s=f(s,o,h,c,v,6,t[48]),c=f(c,s,o,h,tt,10,t[49]),h=f(h,c,s,o,w,15,t[50]),o=f(o,h,c,s,rt,21,t[51]),s=f(s,o,h,c,k,6,t[52]),c=f(c,s,o,h,y,10,t[53]),h=f(h,c,s,o,g,15,t[54]),o=f(o,h,c,s,a,21,t[55]),s=f(s,o,h,c,et,6,t[56]),c=f(c,s,o,h,p,10,t[57]),h=f(h,c,s,o,it,15,t[58]),o=f(o,h,c,s,b,21,t[59]),s=f(s,o,h,c,ut,6,t[60]),c=f(c,s,o,h,d,10,t[61]),h=f(h,c,s,o,ft,15,t[62]),o=f(o,h,c,s,nt,21,t[63]);l[0]=l[0]+s|0,l[1]=l[1]+o|0,l[2]=l[2]+h|0,l[3]=l[3]+c|0},_doFinalize:function(){var u=this._data,r=u.words,t=8*this._nDataBytes,i=8*u.sigBytes,f;for(r[i>>>5]|=128<<24-i%32,f=n.floor(t/4294967296),r[(i+64>>>9<<4)+15]=(f<<8|f>>>24)&16711935|(f<<24|f>>>8)&4278255360,r[(i+64>>>9<<4)+14]=(t<<8|t>>>24)&16711935|(t<<24|t>>>8)&4278255360,u.sigBytes=4*(r.length+1),this._process(),u=this._hash,r=u.words,t=0;4>t;t++)i=r[t],r[t]=(i<<8|i>>>24)&16711935|(i<<24|i>>>8)&4278255360;return u},clone:function(){var n=s.clone.call(this);return n._hash=this._hash.clone(),n}}),o.MD5=s._createHelper(e),o.HmacMD5=s._createHmacHelper(e)}(Math),jQuery.cachedScript=function(n,t){return t=$.extend(t||{},{dataType:"script",cache:!0,url:n}),jQuery.ajax(t)},is_mobile()?$.cachedScript("/views/commons/masterpages/basic.mobile.js?v=20180906prd").done(function(){$(document).ready(function(){bindPopUpWindow()})}):$.cachedScript("/views/commons/masterpages/basic.desktop.js?v=20180906prd").done(function(){$(document).ready(function(){bindPopUpWindow()})});var modal=new ModalViewModel,detail=new DetailViewModel,fixed=new FixedIncomeViewModel,benchmarks={CDI:{id:18,name:"CDI"},IBOV:{id:23,name:"IBOV"},IBRX:{id:22,name:"IBRX"}},selectizeFund=null;$(document).ready(function(){if($(window).off("scroll"),Highcharts.setOptions({global:{useUTC:!1},lang:{months:["Janeiro","Fevereiro","Mar√ßo","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],shortMonths:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],weekdays:["Domingo","Segunda","Ter√ßa","Quarta","Quinta","Sexta","S√°bado"],loading:"Carregando",decimalPoint:",",rangeSelectorZoom:""}}),$(document).foundation(),is_mobile()){$("#filter").addClass("large reveal");var n=new Foundation.Reveal($("#filter"));$("#filter").on("open.zf.reveal",function(){$(".slider").each(function(n,t){var i=$(t);new Foundation.Slider(i,{initialStart:i.attr("data-initial-start")})})})}else $("#table-header").fixTo("#main",{useNativeSticky:!1});selectizeFund=$("#txtSearch").selectize({sortField:"name",onChange:fixed.reloadData}),LoadSelectedFund()}),moment.locale("pt-br"),currencyOptions={minimunFractionDigits:2,style:"currency",currency:"BRL"},ko.applyBindings(fixed,document.getElementById("main")),ko.applyBindings(modal,document.getElementById("investModal")),ko.applyBindings(detail,document.getElementById("fundDetail"));$("[data-slider]._minimumApplication").on("moved.zf.slider",function(){var n=$("#minimumApplicationOutput"),t=$("#minimumApplicationValue");switch(t.val()){case"0":n.html("At√© R$5.000,00");break;case"20":n.html("At√© R$10.000,00");break;case"40":n.html("At√© R$50.000,00");break;case"60":n.html("At√© R$100.000,00");break;case"80":n.html("At√© R$1.000.000,00");break;case"100":n.html("Todos")}});$("[data-slider]._risk").on("moved.zf.slider",function(){var n=$("#riskOutput"),t=$("#riskValue");switch(t.val()){case"0":n.html("Baixo");break;case"20":n.html("M√©dio baixo");break;case"40":n.html("M√©dio");break;case"60":n.html("M√©dio alto");break;case"80":n.html("Alto");break;case"100":n.html("Todos")}});$("[data-slider]._blockedInvestmentTime").on("moved.zf.slider",function(){var n=$("#blockedInvestmentTimeOutput"),t=$("#blockedInvestmentTimeValue");switch(t.val()){case"0":n.html("Di√°ria");break;case"20":n.html("At√© D+1");break;case"40":n.html("At√© D+5");break;case"60":n.html("At√© D+15");break;case"80":n.html("At√© D+30");break;case"100":n.html("Todos")}});$("[data-slider]._classification").on("moved.zf.slider",function(){var n=$("#classificationOutput"),t=$("#classificationValue");switch(t.val()){case"0":n.html("5 estrelas");break;case"20":n.html("4 estrelas");break;case"40":n.html("3 estrelas");break;case"60":n.html("2 estrelas");break;case"80":n.html("1 estrela");break;case"100":n.html("Todos")}})